<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Java-面向对象 | REAI</title><meta name="keywords" content="REAI,reai,博客,技术博客,程序员,程序员博客,编程,代码,开源,IT,互联网,前后端,前端,后端,设计,设计模式,数据结构,算法,面试,学习,读书,读书笔记,笔记,笔记软件,笔记系统,笔记工具,笔记方法"><meta name="author" content="REAI"><meta name="copyright" content="REAI"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Java-面向对象"><meta name="application-name" content="Java-面向对象"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Java-面向对象"><meta property="og:url" content="https://blog.reaicc.com/posts/mxdxjava/index.html"><meta property="og:site_name" content="REAI"><meta property="og:description" content="面向对象-基础类与对象 成员方法 方法递归 方法重载 可变参数 作用域 构造方法 对象创建 this关键字 面向对象-中级包 访问修饰符 封装 继承 super关键字 重写&amp;amp;重载 多态多态引出请编写一个程序，Master 类中有一个 feed 方法， 可以完成主人给动物喂食物的信息。 使用传"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640"><meta property="article:author" content="REAI"><meta property="article:tag" content="REAI,reai,博客,技术博客,程序员,程序员博客,编程,代码,开源,IT,互联网,前后端,前端,后端,设计,设计模式,数据结构,算法,面试,学习,读书,读书笔记,笔记,笔记软件,笔记系统,笔记工具,笔记方法"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640"><meta name="description" content="面向对象-基础类与对象 成员方法 方法递归 方法重载 可变参数 作用域 构造方法 对象创建 this关键字 面向对象-中级包 访问修饰符 封装 继承 super关键字 重写&amp;amp;重载 多态多态引出请编写一个程序，Master 类中有一个 feed 方法， 可以完成主人给动物喂食物的信息。 使用传"><link rel="shortcut icon" href="/img/Cat.svg"><link rel="canonical" href="https://blog.reaicc.com/posts/mxdxjava/"><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="codeva-7zzTxzlayy"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.onmicrosoft.cn/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.onmicrosoft.cn/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"REAI","mode":"tianli","switchBtn":true,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"J3BBucxpYNx1hMr4pl1j","Referer":"https://blog.reaicc.com/"},
  diytitle: undefined,
  LA51: {"enable":true,"ck":"JrxUXpJaHkoUhitk","LingQueMonitorID":"JrxcoymH8UkasaaS"},
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: REAI","link":"链接: ","source":"来源: REAI","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://npm.onmicrosoft.cn/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://npm.onmicrosoft.cn/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'REAI',
  title: 'Java-面向对象',
  postAI: '',
  pageFillDescription: '面向对象-基础, 面向对象-中级, 多态, 多态引出, 多态介绍, 多态的向上转型, 多态的向下转型, 属性重写问题, instanceOf, 动态绑定机制, 多态的应用, 多态数组, 多态参数, Object类, equals, hashCode, toString, finalize, 面向对象-高级, 类变量(静态变量), 类变量简介, 类变量内存布局, 类变量特点, 类变量的定义, 类变量的访问, 类变量使用场景, 类变量与普通变量, 代码理解类变量, 类方法(静态方法), 类方法定义, 类方法访问, 类方法使用场景, 类方法与普通方法, 代码理解类方法, main方法, 深入理解main方法, 特别注意, 代码块, 简介, 代码块语法, 代码块的好处, 重点, 单例模式, 饿汉式, 懒汉式, final关键字, 抽象类, 抽象类引出, 抽象类介绍, 抽象类注意事项, 抽象类最佳实践-模板设计模式, 接口, 接口简介, 接口注意事项, 接口amp继承, 接口的多态特性, 内部类, 简介, 分类, 局部内部类, 匿名内部类, 成员内部类, 静态内部类面向对象基础类与对象成员方法方法递归方法重载可变参数作用域构造方法对象创建关键字面向对象中级包访问修饰符封装继承关键字重写重载多态多态引出请编写一个程序类中有一个方法可以完成主人给动物喂食物的信息使用传统的方法来解决带来的问题是什么如何解决大骨头小鱼主人给小狗喂食骨头主人给吃主人给小猫喂黄花鱼主人给吃带来的问题如果动物很多食物很多方法很多不利于管理和维护代码的复用性不高而且不利于代码维护解决方案采用多态解决大骨头小鱼使用多态机制可以统一的管理主人喂食的问题编译类型是可以指向接收子类的对象编译类型是可以指向接收子类的对象主人给吃多态介绍方法或对象具有多种形态是面向对象的第三大特征多态是建立在封装和继承基础之上的重载和重写都体现了多态一个对象的编译类型和运行类型可以不一致编译类型在定义对象时就确定了不能改变运行类型是可以变化的编译类型看定义时号的左边运行类型看号的右边编译类型是运行类型的运行类型变成了编译类型仍然是多态的前提是两个对象类存在继承关系多态的向上转型本质父类的引用指向了子类的对象语法父类类型引用名子类类型特点编译类型看左边运行类型看右边可以调用父类中的所有成员需遵守访问权限不能调用子类中特有成员属性方法最终运行效果看子类的具体实现向上转型父类的引用指向了子类的对象可以调用父类中的所有成员需遵守访问权限吃睡不能调用子类中特有成员属性方法错误写法动物睡吃方法重写猫吃鱼特有方法猫抓老鼠多态的向下转型语法子类类型引用名子类类型父类引用只能强转父类的引用不能强转父类的对象要求父类的引用必须指向的是当前目标类型的对象当向下转型后可以调用子类类型中所有的成员向下转型希望可以调用的方法吃睡特有方法也可调用要求父类的引用必须指向的是当前目标类型的对象错误写法动物睡吃方法重写猫吃鱼特有方法猫抓老鼠是的子类属性重写问题属性没有重写之说属性的值看编译类型属性没有重写之说属性的值看编译类型向上转型看编译类型父类属性子类属性用于判断对象的运行类型是否为类型或类型的子类型是子类编译类型运行类型是父类子类动态绑定机制当调用对象方法的时候该方法会和该对象的运行类型内存地址绑定当调用对象属性时没有动态绑定机制哪里声明那里使用的编译类型运行类型向上转型运行类型是先找类里是否有有就直接运行调用子类调用子类父类父类父类父类子类子类的编译类型运行类型向上转型运行类型是先找类里是否有没有就去父类找调用父类和子类调用父类和父类父类动态绑定机制父类父类父类子类子类多态的应用多态数组数组的定义类型为父类类型里面保存的实际元素类型为子类类型应用实例现有一个继承结构如下要求创建个对象个对象和个对象统一放在数组中并调用每个对象方法如何调用子类特有的方法比如有一个有一个怎么调用应用实例现有一个继承结构如下要求创建个对象个对象和个对象统一放在数组中并调用每个对象方法循环遍历多态数组调用编译类型是运行类型是是根据实际情况有来判断动态绑定机制使用类型判断向下转型判断的运行类型是不是向下转型也可以使用一条语句不做处理你的类型有误请自己检查父类返回名字和年龄重写父类学生特有的方法学生正在学写重写父类的方法老师特有方法老师正在讲课程多态参数方法定义的形参类型为父类类型实参类型允许为子类类型应用实例定义员工类包含姓名和月工资以及计算年工资的方法普通员工和经理继承了员工经理类多了奖金属性和管理方法普通员工类多了方法普通员工和经理类要求分别重写方法测试类中添加一个方法实现获取任何员工对象的年工资并在方法中调用该方法测试类中添加一个方法如果是普通员工则调用方法如果是经理则调用方法有向下转型操作有向下转型操作不做处理普通员工经理类是类中的方法只能判断引用类型默认判断的是地址是否相等子类中往往重写该方法用于判断内容是否相等比如和的对比是一个比较运算符既可以判断基本类型又可以判断引用类型如果判断基本类型判断的是值是否相等如果判断引用类型判断的是地址是否相等即判定是不是同一个对象是类中的方法只能判断引用类型默认判断的是地址是否相等如何重写方法判断两个对象的内容是否相等如果两个对象的各个属性值都一样则返回反之男男假判断两个对象的内容是否相等如果两个对象的各个属性值都一样则返回反之重写的方法判断如果比较的两个对象是同一个对象则直接返回类型判断是我们才比较进行向下转型因为我需要得到的各个属性如果不是则直接返回返回该对象的哈希码值此方法是为了提高哈希表的性能两个引用如果指向的是同一个对象则哈希值肯定是一样的两个引用如果指向的是不同对象则哈希值是不一样的哈希值主要根据地址号来的但是不能完全将哈希值等价于地址集合中如果需要的话也会重写默认返回全类名包名类名哈希值的十六进制子类往往重写方法用于返回对象的属性信息重写方法打印对象或拼接对象时都会自动调用该对象的形式当直接输出一个对象时方法会被默认的调用比如就会默认调用当对象被回收时系统自动调用该对象的方法子类可以重写该方法做一些释放资源的操作什么时候被回收当某个对象没有任何引用时则就认为这个对象是一个垃圾对象就会使用垃圾回收机制来销毁该对象在销毁该对象前会先调用方法垃圾回收机制的调用是由系统来决定即有自己的算法也可以通过主动触发垃圾回收机制如果程序员不重写那么就会调用类的即默认处理如果程序员重写了就可以实现自己的逻辑宝马这时对象就是一个垃圾垃圾回收器就会回收销毁对象在销毁对象前会调用该对象的方法主动调用垃圾回收器程序退出了重写我们销毁汽车释放了某些资源面向对象高级类变量静态变量类变量简介类变量又叫静态变量是该类的所有对象共享的变量任何一个该类的对象去访问它时取到的都是相同的值同样任何一个该类的对象去修改它时修改的也是同一个变量类变量内存布局及以前版本放在静态域以后版本放在堆中当你的类加载的时候会在堆中生成一个类的对象静态变量就在对象尾部类变量特点类变量是同一个类所有对象实例共享的类变量在类加载的时候就生成了即类加载的时候就会初始化类变量即使没有创建类对象实例也可通过类名访问类变量的生命周期是随类的加载开始随着类的消亡而销毁类变量的定义访问修饰符数据类型变量名推荐使用访问修饰符数据类型变量名类变量的访问类名类变量名推荐使用对象名类变量名类变量使用场景当我们需要让某个类的所有对象都共享一个变量时就可以考虑使用类变量静态变量比如定义学生类统计所有学生共交多少钱类变量与普通变量类变量是该类的所有对象共享的实例变量普通变量类成员变量非静态变量是每个对象独享的代码理解类变量普通方法需定义一个变量统计有多少小孩加入了游戏白骨精狐狸精老鼠精类变量可以通过类名来访问也可通过对象名访问共有小孩加入了游戏该变量最大的特点就是会被类的所有的对象实例共享加入了游戏类方法静态方法类方法无需创建类的对象即可对其进行访问类方法定义访问修饰符数据返回类型方法名推荐使用访问修饰符数据返回类型方法名类方法访问类名类方法名推荐使用对象名类方法名类方法使用场景当方法中不涉及到任何和对象相关的成员则可以将方法设计成静态方法提高开发效率比如工具类中的方法类类集合类在实际开发中往往将一些通用的方法设计成静态方法这样我们不需要创建对象就可以使用比如打印一维数组冒泡排序等等类方法与普通方法类方法和普通方法都是随着类的加载而加载将结构信息存储在方法区类方法中无的参数普通方法中隐含着的参数类方法可以通过类名或对象名调用而普通方法只能通过对象名调用类方法中不允许使用和对象有关的关键字比如普通方法可以因为当用类名类方法名调用的时候和指示不明类方法中只能访问静态变量或静态方法而普通方法既可以访问普通变量方法也可以访问静态变量方法类方法可以被子类继承但是不能被子类重写代码理解类方法创建两个学生交学费静态变量累积学费静态方法可访问静态变量总学费方法深入理解方法方法的形式方法是调用的该方法的访问权限必须是虚拟机在执行方法时不必创建对象所以该方法必须是该方法接收类型的数组参数该数组中保存执行命令时传递给所运行的类的参数特别注意在方法中我们可以直接调用方法所在类的静态方法或静态属性但是不能直接访问该类中的非静态成员必须创建该类的一个实例对象后才能通过这个对象去访问类中的非静态成员代码块简介代码块又称为初始化块属于类中的成员类似于方法将逻辑语句封装在方法体中通过包围起来但和方法不同没有方法名没有返回没有参数只有方法体而且不用通过对象或类显式调用而是加载类时或创建对象时隐式调用代码块语法修饰符这里是代码说明修饰符可选要写的话也只能写代码块分为两类使用修饰的叫静态代码块没有修饰的叫普通代码块块中代码可以为任何逻辑语句输入输出方法调用循环判断等分号可以写上也可以省略代码块的好处首先看下面代码三个构造器都有相同的语句这样代码看起来比较冗余如何简化代码呢你好李焕英唐探陈思诚个构造器重载电影屏幕打开广告开始电影正是开始被调用电影屏幕打开广告开始电影正是开始电影屏幕打开广告开始电影正是开始被调用这时我们可以把相同的语句放入到一个代码块中这样当我们不管调用哪个构造器创建对象都会先调用代码块的内容代码块调用的顺序优先于构造器电影屏幕打开广告开始电影正是开始改进后代码你好李焕英唐探陈思诚代码块电影屏幕打开广告开始电影正是开始个构造器重载被调用被调用总结代码块相当于另外一种形式的构造器对构造器的补充机制可以做初始化的操作如果多个构造器中都有重复的语句可以抽取到初始化块中提高代码的复用性重点代码块也叫静态代码块作用就是对类进行初始化而且它随着类的加载而执行并且只会执行一次类什么时候被加载创建对象实例时创建子类对象实例父类也会被加载使用类的静态成员时静态方法静态属性普通的代码块在创建对象实例时会被隐式的调用被创建一次就会调用一次如果只是使用类的静态成员时普通代码块并不会执行创建一个对象时它们的调用顺序是首先调用静态代码块和静态属性初始化注意静态代码块和静态属性初始化调用的优先级一样如果有多个静态代码块和多个静态变量初始化则按他们定义的顺序调用再调用普通代码块和普通属性的初始化注意普通代码块和普通属性初始化调用的优先级一样如果有多个普通代码块和多个普通属性初始化则按定义顺序调用最后调用构造方法构造器的最前面其实隐含了和调用普通代码块静态代码块只能直接调用静态成员静态属性和静态方法普通代码块可以调用任意成员创建一个子类对象时在一个类调用顺序是父类的静态代码块和静态属性初始化优先级一样按定义顺序执行子类的静态代码块和静态属性初始化优先级一样按定义顺序执行父类的普通代码块和普通属性初始化优先级一样按定义顺序执行父类的构造方法子类的普通代码块和普通属性初始化子类的构造方法总结根据代码块是在类加载时被调用当要创建子类这个对象时发现这个类需要一个父类所以把父类的加载进来故先是父类的静态代码块或静态属性初始化然后是加载子类的类信息故是子类的静态代码块或静态属性初始化然后走进子类构造器的语句进入父类的构造器先然后调用父类普通代码块故是父类的普通代码块或普通属性初始化然后父类构造器调用完毕即是父类的构造方法然后回到子类的构造方法中隐含的调用普通代码块或普通属性的初始化然后完成子类的构造器故最后是子类的构造方法单例模式饿汉式懒汉式关键字在中的意思是最终也可以称为完结器表示对象是最终形态的不可改变的意思可以修饰类属性方法和局部变量在某些情况下就会使用到当不希望类被继承时可以用修饰当不希望父类的某个方法被子类覆盖重写时可以用关键字修饰当不希望类的的某个属性的值被修改可以用修饰当不希望某个局部变量被修改可以使用修饰如果我们要求类不能被其他类继承可以使用修饰类会报错如果我们要求不能被子类重写可以使用修饰方法会报错重写了类的方法当不希望类的的某个属性的值被修改可以用修饰常量当不希望某个局部变量被修改可以使用修饰这时也称为局部常量会报错注意事项修饰的属性又叫常量一般用来命名修饰的属性在定义时必须赋初值并且以后不能再修改赋值可以在如下位置之一定义时定义时赋值在构造器中构造器中赋值在代码块中在代码块赋值修饰的属性是静态的则初始化的位置只能是定义时在静态代码块不能在构造器中赋值类不能继承但是可以实例化对象如果类不是类但是含有方法则该方法虽然不能重写但是可以被继承一般来说如果一个类已经是类了就没有必要再将方法修饰成方法不能修饰构造方法即构造器和往往搭配使用效率更高不会导致类加载底层编译器做了优化处理包装类等都是也是类抽象类抽象类引出当父类的某些方法需要声明但是又不确定如何实现时可以将其声明为抽象方法那么这个类就是抽象类这里实现了其实没有什么意义这是一个动物但是不知道吃什么考虑将该方法设计为抽象方法所谓抽象方法就是没有实现的方法所谓没有实现就是指没有方法体当一个类中存在抽象方法时需要将该类声明为类一般来说抽象类会被继承由其子类来实现抽象方法只声明不实现抽象类介绍当父类的一些方法不能确定时可以用关键字来修饰该方法这个方法就是抽象方法并且需要用来修饰该类这个类就叫抽象类用关键字来修饰一个类时这个类就叫抽象类访问修饰符类名用关键字来修饰一个方法时这个方法就是抽象方法访问修饰符返回类型方法名参数列表不能有方法体抽象类的价值更多作用是在于设计是设计者设计好后让子类继承并实现抽象类抽象类注意事项抽象类不能被实例化抽象类不一定要包含方法也就是说抽象类可以没有方法一旦类包含了方法则这个类必须声明为只能修饰类和方法不能修饰属性和其它的如果一个类继承了抽象类则它必须实现抽象类的所有抽象方法除非它自己也声明为类抽象方法不能使用和来修饰因为这些关键字都是和重写相违背的抽象类可以有任意成员抽象类本质还是类比如非抽象方法构造器静态属性等等抽象方法不能有主体即不能实现抽象类不能被实例化错误写法抽象类不一定要包含方法也就是说抽象类可以没有方法一旦类包含了方法则这个类必须声明为只能修饰类和方法不能修饰属性和其它的错误写法如果一个类继承了抽象类则它必须实现抽象类的所有抽象方法除非它自己也声明为类这里相等于子类实现了父类的抽象方法所谓实现方法就是有方法体抽象方法不能使用和来修饰因为这些关键字都是和重写相违背的错误写法错误写法错误写法抽象类的本质还是类所以可以有类的各种成员测试抽象方法不能有主体即不能实现错误写法抽象类最佳实践模板设计模式抽象类体现的就是一种模板模式的设计抽象类作为多个子类的通用模板子类在抽象类的基础上进行扩展改造但子类总体上会保留抽象类的行为方式模板设计模式能解决的问题当功能内部一部分实现是确定一部分实现是不确定的这时可以把不确定的部分暴露出去让子类去实现编写一个抽象父类父类提供了多个子类的通用方法并把一个或多个方法留给其子类实现就是一种模板模式栗子有多个类完成不同的任务要求统计得到各自完成任务的时间请编程实现抽象类模板设计模式抽象方法实现方法调用方法得到开始的时间动态绑定机制得的结束的时间任务执行时间计算任务实现的抽象方法计算任务多态接口接口简介接口就是给出一些没有实现的方法封装到一起到某个类要使用的时候再根据具体情况把这些方法写出来语法定义接口接口名属性实际上是属性抽象方法实际上是抽象方法接口中抽象方法可以不用关键字实现接口类名接口自己属性自己方法必须实现的接口的抽象方法接口是更加抽象的抽象类抽象类里的方法可以有方法体接口里的所有方法都没有方法体接口体现了程序设计的多态和高内聚低偶合的设计思想特别说明后接口类可以有静态方法默认方法也就是说接口中可以有方法的具体实现接口注意事项接口不能被实例化接口中所有的方法是方法接口中抽象方法可以不用修饰一个普通类实现接口就必须将该接口的所有方法都实现抽象类实现接口可以不用实现接口的方法接口不能被实例化错误写法接口中所有的方法是方法接口中抽象方法可以不用修饰修饰符默认实际就是一个普通类实现接口就必须将该接口的所有方法都实现可以使用来解决抽象类去实现接口时可以不实现接口的抽象方法一个类同时可以实现多个接口接口中的属性只能是的而且是修饰符比如实际上是必须初始化接口中属性的访问形式接口名属性名接口不能继承其它的类但是可以继承多个别的接口接口的修饰符只能是和默认这点和类的修饰符是一样的接口中的属性是说明就是说明是接口中的属性只能是的而且是修饰符等价接口的修饰符只能是和默认这点和类的修饰符是一样的接口不能继承其它的类但是可以继承多个别的接口一个类同时可以实现多个接口接口继承当子类继承了父类就自动的拥有父类的功能如果子类需要扩展功能可以通过实现接口的方式扩展可以理解实现接口是对单继承机制的一种补充悟空猴子会爬树接口通过学习可以像鱼儿一样游泳通过学习可以像鸟儿一样飞翔悟空会爬树悟空通过学习可以像鱼儿一样游泳悟空通过学习可以像鸟儿一样飞翔接口和继承解决的问题不同继承的价值主要在于解决代码的复用性和可维护性接口的价值主要在于设计设计好各种规范方法让其它类去实现这些方法即更加的灵活接口比继承更加灵活继承是满足的关系而接口只需满足的关系接口在一定程度上实现代码解耦代码相互依赖即接口规范性动态绑定机制接口的多态特性多态参数接口类型的变量可以指向实现了该接口类的对象实例例如接口既可以接收手机对象又可以接收相机对象就体现了接口多态接口引用可以指向实现了接口的类的对象接口的多态体现接口类型的变量可以指向实现了接口类的对象实例继承体现的多态父类类型的变量可以指向继承的子类的对象实例多态数组演示案例给数组中存放和相机对象类还有一个特有的方法请遍历数组如果是对象除了调用接口定义的方法外还需要调用特有方法动态绑定需要进行类型的向下转型判断他的运行类型是手机可以打电话手机工作中相机工作中多态传递如果一个类实现了接口接口继承了接口那么实际上就相当于类也实现了接口这就是接口多态传递现象接口类型的变量可以指向实现了该接口的类的对象实例如果继承了接口而类实现了接口那么实际上就相当于类也实现了接口这就是所谓的接口多态传递现象练习判断代码是否有误并改进等价普通属性错误原因不明确改进访问接口的就使用访问父类的就使用内部类简介一个类的内部又完整的嵌套了另一个类结构被嵌套的类称为内部类嵌套其他类的类称为外部类内部类最大的特点就是可以直接访问私有属性并且可以体现类与类之间的包含关系语法外部类内部类外部其他类类的五大成员属性方法构造器代码块内部类分类定义在局部位置方法中代码块局部内部类有类名匿名内部类没有类名定义在成员位置成员内部类没用修饰静态内部类使用修饰局部内部类局部内部类是定义在外部类的局部位置方法中或者代码块中并且有类名不能添加访问修饰符因为它的地位就是一个局部变量局部变量是不能使用修饰符的但是可以使用修饰因为局部变量也可以使用作用域仅仅在定义它的方法或代码块中局部内部类访向外部类的成员访问方式可以直接访问外部类的所有成员包含私有的外部类访向局部内部类的成员访问方式创建局部内部类的对象再访问注意必须在作用域内外部其他类不能访向局部内部类因为局部内部类地位是一个局部变量如果外部类和局部内部类的成员重名时默认遵循就近原则如果想访问外部类的成员则可以使用外部类名成员去访问外部类私有方法外部类的私有方法方法不能添加访问修饰符但是可以使用修饰作用域仅仅在定义它的方法或代码块中局部内部类与外部类成员重名可以直接访问外部类的所有成员包含私有的如果外部类和局部内部类的成员重名时默认遵循就近原则如果想访问外部类的成员使用外部类名成员去访问外部类访向局部内部类的成员创建局部内部类的对象再访问外部类访问局部内部类的匿名内部类匿名内部类是定义在外部类的局部位置方法中或者代码块中并且没有类名匿名内部类本质是类同时还是一个对象匿名内部类的基本语法类或接口参数列表类体匿名内部类的语法比较奇特匿名内部类既是一个类的定义同时它本身也是一个对象因此从语法上看它既有定义类的特征也有创建对象的特征不能添加访问修饰符因为它的地位就是一个局部变量作用域仅仅在定义它的方法或代码块中匿名内部类访向外部类成员访问方式可以直接访问外部类的所有成员包含私有的外部其他类不能访匿名内部类因为匿名内部类地位是一个局部变量如果外部类和匿名内部类的成员重名时匿名内部类访问的话默认遵循就近原则如果想访问外部类的成员则可以使用外部类名成员去访问不能添加访问修饰符作用域仅仅在定义它的方法或代码块中创建一个基于类的匿名内部类与外部类成员重名可以直接访问外部类的所有成员包含私有的如果外部类和匿名内部类的成员重名时匿名内部类访问的话默认遵循就近原则如果想访问外部类的成员则可以使用外部类名成员去访问动态绑定也可以直接调用匿名内部类本身也是返回对象类匿名内部类的最佳实践当做实参直接传递简洁高效当做实参直接传递简洁高效这是一副名画传统方法静态方法形参是接口类型接口类实现这是一副名画练习有一个铃声接口里面有个方法有一个手机类具有闹钟功能参数是类型测试手机类的闹钟功能通过匿名内部类对象作为参数打印懒猪起床了再传入另一个匿名内部类对象打印小伙伴上课了懒猪起床了小伙伴上课了动态绑定成员内部类成员内部类是定义在外部类的成员位置并且没有修饰可以添加任意访问修饰符默认因为它的地位就是一个成员作用域和外部类的其他成员一样为整个类体成员内部类访向外部类成员比如属性访问方式可以直接访问外部类的所有成员包含私有的外部类访问成员内部类访问方式创建对象再访问外部其他类访问成员内部类方式一外部类名成员内部类名对象名外部类名成员内部类名方式二在外部类中编写一个方法返回成员内部类对象如果外部类和内部类的成员重名时内部类访问的话默认遵循就近原则如果想访问外部类的成员则可以使用外部类名成员去访问静态内部类静态内部类是定义在外部类的成员位置并且有修饰可以添加任意访问修饰符默认因为它的地位就是一个成员作用域同其他的成员为整个类体静态内部类访问外部类比如静态属性访问方式可以直接访问外部类的所有静态成员包含私有的但不能直接访问非静态成员外部类访问静态内部类访问方式创建对象再访问外部其他类访问静态内部类方式一外部类名成员内部类名对象名外部类名成员内部类名方式二在外部类中编写一个方法返回成员内部类对象或者如果外部类和静态内部类的成员重名时静态内部类访问的时默认遵循就近原则如果想访问外部类的成员则可以使用外部类名成员去访问',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-05 17:18:50',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/about-tag.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-article-double-row-kx/assets/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script async src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://npm.onmicrosoft.cn/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://npm.onmicrosoft.cn/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://music.reaicc.com/" title="网易云音乐"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/wangyiyun.png" alt="网易云音乐"/><span class="back-menu-item-text">网易云音乐</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://news.reaicc.com/" title="每日早报"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://news.reaicc.com/favicon.svg" alt="每日早报"/><span class="back-menu-item-text">每日早报</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">REAI</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/friends/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/?id=6709358233&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/notice/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 时间轴</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/reward/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/wechat.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/reward/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/alipay.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Ant/" style="font-size: 1.05rem;">Ant<sup>1</sup></a><a href="/tags/Cookie/" style="font-size: 1.05rem;">Cookie<sup>2</sup></a><a href="/tags/Dozer/" style="font-size: 1.05rem;">Dozer<sup>1</sup></a><a href="/tags/Filter/" style="font-size: 1.05rem;">Filter<sup>1</sup></a><a href="/tags/Freemark/" style="font-size: 1.05rem;">Freemark<sup>1</sup></a><a href="/tags/Freenom/" style="font-size: 1.05rem;">Freenom<sup>1</sup></a><a href="/tags/HTTPS/" style="font-size: 1.05rem;">HTTPS<sup>1</sup></a><a href="/tags/Html/" style="font-size: 1.05rem;">Html<sup>1</sup></a><a href="/tags/JSP/" style="font-size: 1.05rem;">JSP<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>39</sup></a><a href="/tags/JavaBean/" style="font-size: 1.05rem;">JavaBean<sup>2</sup></a><a href="/tags/JavaWeb/" style="font-size: 1.05rem;">JavaWeb<sup>11</sup></a><a href="/tags/Jetty/" style="font-size: 1.05rem;">Jetty<sup>2</sup></a><a href="/tags/Jsoup/" style="font-size: 1.05rem;">Jsoup<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>8</sup></a><a href="/tags/Listener/" style="font-size: 1.05rem;">Listener<sup>1</sup></a><a href="/tags/Lombok/" style="font-size: 1.05rem;">Lombok<sup>1</sup></a><a href="/tags/Maven/" style="font-size: 1.05rem;">Maven<sup>6</sup></a><a href="/tags/Mybatis-Plus/" style="font-size: 1.05rem;">Mybatis Plus<sup>1</sup></a><a href="/tags/Reflections/" style="font-size: 1.05rem;">Reflections<sup>1</sup></a><a href="/tags/Servlet/" style="font-size: 1.05rem;">Servlet<sup>2</sup></a><a href="/tags/Session/" style="font-size: 1.05rem;">Session<sup>1</sup></a><a href="/tags/Thumbnailator/" style="font-size: 1.05rem;">Thumbnailator<sup>1</sup></a><a href="/tags/Thymeleaf/" style="font-size: 1.05rem;">Thymeleaf<sup>1</sup></a><a href="/tags/Tomcat/" style="font-size: 1.05rem;">Tomcat<sup>6</sup></a><a href="/tags/Velocity/" style="font-size: 1.05rem;">Velocity<sup>1</sup></a><a href="/tags/ZXing/" style="font-size: 1.05rem;">ZXing<sup>1</sup></a><a href="/tags/css/" style="font-size: 1.05rem;">css<sup>1</sup></a><a href="/tags/flex/" style="font-size: 1.05rem;">flex<sup>1</sup></a><a href="/tags/git/" style="font-size: 1.05rem;">git<sup>1</sup></a><a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 1.05rem;">反射<sup>1</sup></a><a href="/tags/%E5%9B%BE%E5%BD%A2%E5%A4%84%E7%90%86/" style="font-size: 1.05rem;">图形处理<sup>1</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7%E5%8C%85/" style="font-size: 1.05rem;">工具包<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.05rem;">教程<sup>8</sup></a><a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 1.05rem;">日志<sup>1</sup></a><a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.05rem;">服务器<sup>6</sup></a><a href="/tags/%E6%9D%A1%E5%BD%A2%E7%A0%81/" style="font-size: 1.05rem;">条形码<sup>1</sup></a><a href="/tags/%E6%9E%84%E5%BB%BA/" style="font-size: 1.05rem;">构建<sup>7</sup></a><a href="/tags/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/" style="font-size: 1.05rem;">模板引擎<sup>3</sup></a><a href="/tags/%E9%82%AE%E4%BB%B6/" style="font-size: 1.05rem;">邮件<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">Java-面向对象</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-11-05T09:18:50.259Z" title="发表于 2023-11-05 17:18:50">2023-11-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-11-05T09:18:50.259Z" title="更新于 2023-11-05 17:18:50">2023-11-05</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span id="" data-flag-title="Java-面向对象"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="ArtalkPV"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为北京"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北京</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://blog.reaicc.com/posts/mxdxjava/"><header><h1 id="CrawlerTitle" itemprop="name headline">Java-面向对象</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">REAI</span><time itemprop="dateCreated datePublished" datetime="2023-11-05T09:18:50.259Z" title="发表于 2023-11-05 17:18:50">2023-11-05</time><time itemprop="dateCreated datePublished" datetime="2023-11-05T09:18:50.259Z" title="更新于 2023-11-05 17:18:50">2023-11-05</time></header><h2 id="面向对象-基础"><a href="#面向对象-基础" class="headerlink" title="面向对象-基础"></a>面向对象-基础</h2><p><strong>类与对象</strong> <strong>成员方法</strong> <strong>方法递归</strong> <strong>方法重载</strong> <strong>可变参数</strong> <strong>作用域</strong> <strong>构造方法</strong> <strong>对象创建</strong> <strong>this关键字</strong></p>
<h2 id="面向对象-中级"><a href="#面向对象-中级" class="headerlink" title="面向对象-中级"></a>面向对象-中级</h2><p><strong>包</strong> <strong>访问修饰符</strong> <strong>封装</strong> <strong>继承</strong> <strong>super关键字</strong> <strong>重写&amp;重载</strong></p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><h4 id="多态引出"><a href="#多态引出" class="headerlink" title="多态引出"></a>多态引出</h4><p><strong>请编写一个程序，Master 类中有一个 feed 方法， 可以完成主人给动物喂食物的信息。</strong> <strong>使用传统的方法来解决带来的问题是什么? 如何解决?</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Poly_</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Master tom = <span class="keyword">new</span> Master(<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">        Dog jack = <span class="keyword">new</span> Dog(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        Cat jerry = <span class="keyword">new</span> Cat(<span class="string">&quot;jerry&quot;</span>);</span><br><span class="line">        Bone bone = <span class="keyword">new</span> Bone(<span class="string">&quot;大骨头&quot;</span>);</span><br><span class="line">        Fish fish = <span class="keyword">new</span> Fish(<span class="string">&quot;小鱼&quot;</span>);</span><br><span class="line">        tom.feed(jack,bone);</span><br><span class="line">        tom.feed(jerry,fish);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Master</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//主人给小狗喂食骨头</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(Dog dog, Bone bone)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;主人&quot;</span> + name + <span class="string">&quot; 给&quot;</span> + dog.getName() + <span class="string">&quot; 吃&quot;</span> + bone.getName());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//主人给小猫喂黄花鱼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(Cat cat, Fish fish)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;主人&quot;</span> + name + <span class="string">&quot; 给&quot;</span> + cat.getName() + <span class="string">&quot; 吃&quot;</span> + fish.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Cat</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Food</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bone</span> <span class="keyword">extends</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Bone</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span> <span class="keyword">extends</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fish</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>带来的问题：</strong></p>
<ul>
<li><strong>如果动物很多，食物很多，feed 方法很多，不利于管理和维护</strong></li>
<li><strong>代码的复用性不高，而且不利于代码维护</strong></li>
</ul>
<p><strong>解决方案： 采用多态解决</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Poly_</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Master tom = <span class="keyword">new</span> Master(<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">        Dog jack = <span class="keyword">new</span> Dog(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        Cat jerry = <span class="keyword">new</span> Cat(<span class="string">&quot;jerry&quot;</span>);</span><br><span class="line">        Bone bone = <span class="keyword">new</span> Bone(<span class="string">&quot;大骨头&quot;</span>);</span><br><span class="line">        Fish fish = <span class="keyword">new</span> Fish(<span class="string">&quot;小鱼&quot;</span>);</span><br><span class="line">        tom.feed(jack,bone);</span><br><span class="line">        tom.feed(jerry,fish);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Master</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//使用多态机制，可以统一的管理主人喂食的问题</span></span><br><span class="line">    <span class="comment">//animal 编译类型是Animal,可以指向(接收) Animal 子类的对象</span></span><br><span class="line">    <span class="comment">//food 编译类型是Food ,可以指向(接收) Food 子类的对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(Animal animal, Food food)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;主人&quot;</span> + name + <span class="string">&quot; 给&quot;</span> + animal.getName() + <span class="string">&quot; 吃&quot;</span> + food.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Cat</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Food</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bone</span> <span class="keyword">extends</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Bone</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span> <span class="keyword">extends</span> <span class="title">Food</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fish</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="多态介绍"><a href="#多态介绍" class="headerlink" title="多态介绍"></a>多态介绍</h4><p><strong>方法或对象具有多种形态。是面向对象的第三大特征，多态是建立在封装和继承基础之上的。</strong></p>
<ul>
<li><strong>重载和重写都体现了多态 </strong></li>
<li><strong>一个对象的编译类型和运行类型可以不一致 </strong></li>
<li><strong>编译类型在定义对象时，就确定了，不能改变 </strong></li>
<li><strong>运行类型是可以变化的 </strong></li>
<li><strong>编译类型看定义时=号的左边，运行类型看=号的右边</strong> <strong>Animal animal = new Dog()；//animal编译类型是Animal,运行类型Dog</strong> <strong>animal = new Cat(); //animal的运行类型变成了Cat, 编译类型仍然是Animal </strong></li>
<li><strong>多态的前提是：两个对象(类)存在继承关系 </strong></li>
</ul>
<h4 id="多态的向上转型"><a href="#多态的向上转型" class="headerlink" title="多态的向上转型"></a>多态的向上转型</h4><ul>
<li><strong>1)本质：父类的引用指向了子类的对象 </strong></li>
<li><strong>2)语法：父类类型 引用名 = new 子类类型(); </strong><br>*</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = new Dog()；</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>3)特点：编译类型看左边，运行类型看右边 </strong><ul>
<li><strong>可以调用父类中的所有成员(需遵守访问权限)</strong></li>
<li><strong>不能调用子类中特有成员(属性/方法)</strong></li>
<li><strong>最终运行效果看子类的具体实现</strong></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PolyDetail</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//向上转型: 父类的引用指向了子类的对象</span></span><br><span class="line">        Animal animal = <span class="keyword">new</span> Cat(); </span><br><span class="line">        <span class="comment">//可以调用父类中的所有成员(需遵守访问权限)</span></span><br><span class="line">        animal.eat();<span class="comment">//吃</span></span><br><span class="line">        animal.sleep();<span class="comment">//睡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//不能调用子类中特有成员(属性/方法)</span></span><br><span class="line">        animal.catchMouse();<span class="comment">//错误写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal_</span> </span>&#123;</span><br><span class="line">    String name = <span class="string">&quot;动物&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> age = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;睡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;<span class="comment">//方法重写</span></span><br><span class="line">        System.out.println(<span class="string">&quot;猫吃鱼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span></span>&#123;<span class="comment">//Cat 特有方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;猫抓老鼠&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="多态的向下转型"><a href="#多态的向下转型" class="headerlink" title="多态的向下转型"></a>多态的向下转型</h4><ul>
<li><strong>1)语法：子类类型引用名 = (子类类型) 父类引用; </strong><br>*</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dog dog = (Dog) animal；</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>2)只能强转父类的引用，不能强转父类的对象 </strong></li>
<li><strong>3)要求父类的引用必须指向的是当前目标类型的对象 </strong></li>
<li><strong>4)当向下转型后，可以调用子类类型中所有的成员</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PolyDetail</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Animal animal = <span class="keyword">new</span> Cat();</span><br><span class="line">        <span class="comment">//向下转型：希望可以调用Cat的catchMouse 方法</span></span><br><span class="line">        Cat cat = (Cat) anima;</span><br><span class="line">        cat.eat();<span class="comment">//吃</span></span><br><span class="line">        cat.sleep();<span class="comment">//睡</span></span><br><span class="line">        cat.catchMouse();<span class="comment">//特有方法也可调用 </span></span><br><span class="line">        <span class="comment">//要求父类的引用必须指向的是当前目标类型的对象</span></span><br><span class="line">        Dog dog = (Dog) animal; <span class="comment">//错误写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal_</span> </span>&#123;</span><br><span class="line">    String name = <span class="string">&quot;动物&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> age = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;睡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;<span class="comment">//方法重写</span></span><br><span class="line">        System.out.println(<span class="string">&quot;猫吃鱼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span></span>&#123;<span class="comment">//Cat 特有方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;猫抓老鼠&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;<span class="comment">//Dog 是Animal 的子类</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="属性重写问题"><a href="#属性重写问题" class="headerlink" title="属性重写问题"></a>属性重写问题</h4><p><strong>属性没有重写之说！属性的值看编译类型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PolyDetail02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//属性没有重写之说！属性的值看编译类型</span></span><br><span class="line">        Base base = <span class="keyword">new</span> Sub();<span class="comment">//向上转型</span></span><br><span class="line">        System.out.println(base.count);<span class="comment">//看编译类型10</span></span><br><span class="line">        Sub sub = <span class="keyword">new</span> Sub();</span><br><span class="line">        System.out.println(sub.count);<span class="comment">//20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123; <span class="comment">//父类</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">10</span>;<span class="comment">//属性</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;<span class="comment">//子类</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">20</span>;<span class="comment">//属性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="instanceOf"><a href="#instanceOf" class="headerlink" title="instanceOf"></a>instanceOf</h4><p><strong>用于判断对象的 **</strong>运行类型** 是否为XX 类型或XX 类型的子类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PolyDetail03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BB bb = <span class="keyword">new</span> BB();</span><br><span class="line">        System.out.println(bb <span class="keyword">instanceof</span> BB);<span class="comment">//true</span></span><br><span class="line">        System.out.println(bb <span class="keyword">instanceof</span> AA);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//BB 是AA 子类</span></span><br><span class="line">        AA aa = <span class="keyword">new</span> BB(); <span class="comment">//aa 编译类型AA, 运行类型是BB</span></span><br><span class="line">        System.out.println(aa <span class="keyword">instanceof</span> AA);<span class="comment">//true</span></span><br><span class="line">        System.out.println(aa <span class="keyword">instanceof</span> BB);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        Object obj = <span class="keyword">new</span> Object();</span><br><span class="line">        System.out.println(obj <span class="keyword">instanceof</span> AA);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        String str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        System.out.println(str <span class="keyword">instanceof</span> Object);<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AA</span> </span>&#123;&#125; <span class="comment">//父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BB</span> <span class="keyword">extends</span> <span class="title">AA</span> </span>&#123;&#125;<span class="comment">//子类</span></span><br></pre></td></tr></table></figure>
<h4 id="动态绑定机制"><a href="#动态绑定机制" class="headerlink" title="动态绑定机制"></a>动态绑定机制</h4><ul>
<li><strong>当调用对象方法的时候，该方法会和该对象的运行类型(内存地址)绑定 </strong></li>
<li><strong>当调用对象属性时，没有动态绑定机制，哪里声明，那里使用</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DynamicBinding</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//a 的编译类型A, 运行类型B</span></span><br><span class="line">        A a = <span class="keyword">new</span> B();<span class="comment">//向上转型</span></span><br><span class="line">        <span class="comment">//运行类型是B，先找B类里是否有sum，有就直接运行</span></span><br><span class="line">        System.out.println(a.sum());<span class="comment">//40 调用子类sum</span></span><br><span class="line">        System.out.println(a.sum1());<span class="comment">//30 调用子类sum1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;<span class="comment">//父类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">()</span> </span>&#123;<span class="comment">//父类sum()</span></span><br><span class="line">        <span class="keyword">return</span> getI() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum1</span><span class="params">()</span> </span>&#123;<span class="comment">//父类sum1()</span></span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;<span class="comment">//父类getI</span></span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;<span class="comment">//子类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">20</span>;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;<span class="comment">//子类getI()</span></span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DynamicBinding</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//a 的编译类型A, 运行类型B</span></span><br><span class="line">        A a = <span class="keyword">new</span> B();<span class="comment">//向上转型</span></span><br><span class="line">        <span class="comment">//运行类型是B，先找B类里是否有sum，没有就去父类找</span></span><br><span class="line">        System.out.println(a.sum());<span class="comment">//30 调用父类sum 和子类getI</span></span><br><span class="line">        System.out.println(a.sum1());<span class="comment">//20 调用父类sum 和父类i</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;<span class="comment">//父类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//动态绑定机制</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">()</span> </span>&#123;<span class="comment">//父类sum()</span></span><br><span class="line">        <span class="keyword">return</span> getI() + <span class="number">10</span>;<span class="comment">//20 + 10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum1</span><span class="params">()</span> </span>&#123;<span class="comment">//父类sum1()</span></span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;<span class="comment">//10 + 10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;<span class="comment">//父类getI</span></span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;<span class="comment">//子类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">20</span>;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;<span class="comment">//子类getI()</span></span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="多态的应用"><a href="#多态的应用" class="headerlink" title="多态的应用"></a>多态的应用</h4><h5 id="多态数组"><a href="#多态数组" class="headerlink" title="多态数组"></a>多态数组</h5><p><strong>数组的定义类型为父类类型，里面保存的实际元素类型为子类类型</strong></p>
<p><strong>应用实例:现有一个继承结构如下：要求创建1 个Person 对象、2 个Student 对象和2 个Teacher 对象, 统一放在数组中，并调用每个对象</strong> <strong>say 方法，如何调用子类特有的方法，比如 Teacher 有一个 teach , Student 有一个 study</strong></p>
<p><strong>怎么调用？</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PolyArray</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//应用实例:现有一个继承结构如下：要求创建1 个Person 对象、</span></span><br><span class="line">        <span class="comment">// 2 个Student 对象和2 个Teacher 对象, 统一放在数组中，并调用每个对象say 方法</span></span><br><span class="line">        Person[] persons = <span class="keyword">new</span> Person[<span class="number">5</span>];</span><br><span class="line">        persons[<span class="number">0</span>] = <span class="keyword">new</span> Person(<span class="string">&quot;jack&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        persons[<span class="number">1</span>] = <span class="keyword">new</span> Student(<span class="string">&quot;mary&quot;</span>, <span class="number">18</span>, <span class="number">100</span>);</span><br><span class="line">        persons[<span class="number">2</span>] = <span class="keyword">new</span> Student(<span class="string">&quot;smith&quot;</span>, <span class="number">19</span>, <span class="number">30.1</span>);</span><br><span class="line">        persons[<span class="number">3</span>] = <span class="keyword">new</span> Teacher(<span class="string">&quot;scott&quot;</span>, <span class="number">30</span>, <span class="number">20000</span>);</span><br><span class="line">        persons[<span class="number">4</span>] = <span class="keyword">new</span> Teacher(<span class="string">&quot;king&quot;</span>, <span class="number">50</span>, <span class="number">25000</span>);</span><br><span class="line">        <span class="comment">//循环遍历多态数组，调用say</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; persons.length; i++) &#123;</span><br><span class="line">            <span class="comment">//person[i] 编译类型是Person ,运行类型是是根据实际情况有JVM 来判断</span></span><br><span class="line">            System.out.println(persons[i].say());<span class="comment">//动态绑定机制</span></span><br><span class="line">            <span class="comment">// 使用类型判断+ 向下转型</span></span><br><span class="line">            <span class="keyword">if</span>(persons[i] <span class="keyword">instanceof</span> Student) &#123;<span class="comment">//判断person[i] 的运行类型是不是Student</span></span><br><span class="line">                Student student = (Student)persons[i];<span class="comment">//向下转型</span></span><br><span class="line">                student.study();</span><br><span class="line">                <span class="comment">//也可以使用一条语句((Student)persons[i]).study();</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(persons[i] <span class="keyword">instanceof</span> Teacher) &#123;</span><br><span class="line">                Teacher teacher = (Teacher)persons[i];</span><br><span class="line">                teacher.teach();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(persons[i] <span class="keyword">instanceof</span> Person)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;不做处理...&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;你的类型有误, 请自己检查...&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;<span class="comment">//父类</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">()</span> </span>&#123;<span class="comment">//返回名字和年龄</span></span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;\t&quot;</span> + age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, <span class="keyword">double</span> score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age);</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重写父类say</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;学生&quot;</span> + <span class="keyword">super</span>.say() + <span class="string">&quot; score=&quot;</span> + score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//特有的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">study</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生&quot;</span> + getName() + <span class="string">&quot; 正在学java...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span><span class="params">(String name, <span class="keyword">int</span> age, <span class="keyword">double</span> salary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age);</span><br><span class="line">        <span class="keyword">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//写重写父类的say 方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;老师&quot;</span> + <span class="keyword">super</span>.say() + <span class="string">&quot; salary=&quot;</span> + salary;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//特有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;老师&quot;</span> + getName() + <span class="string">&quot; 正在讲java 课程...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="多态参数"><a href="#多态参数" class="headerlink" title="多态参数"></a>多态参数</h5><p><strong>方法定义的形参类型为父类类型，实参类型允许为子类类型</strong></p>
<p><strong>应用实例: 定义员工类 Employee，包含姓名和月工资[private]，以及计算年工资 getAnnual</strong> <strong>的方法。普通员工和经理继承了员工，经理类多了奖金 bonus 属性和管理 manage 方法，普通员工类多了 work 方法，普通员工和经理类要求分别重写getAnnual 方法，测试类中添加一个方法 showEmpAnnual(Employee e)，实现获取任何员工对象的年工资，并在 main方法中调用该方法[e.getAnnual()] 测试类中添加一个方法，testWork，如果是普通员工， 则调用 work 方法，如果是经</strong> <strong>理，则调用 manage方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PolyParameter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Worker tom = <span class="keyword">new</span> Worker(<span class="string">&quot;tom&quot;</span>, <span class="number">2500</span>);</span><br><span class="line">        Manager milan = <span class="keyword">new</span> Manager(<span class="string">&quot;milan&quot;</span>, <span class="number">5000</span>, <span class="number">200000</span>);</span><br><span class="line">        PolyParameter.showEmpAnnual(tom);</span><br><span class="line">        PolyParameter.showEmpAnnual(milan);</span><br><span class="line">        PolyParameter.testWork(tom);</span><br><span class="line">        PolyParameter.testWork(milan);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showEmpAnnual</span><span class="params">(Employee e)</span> </span>&#123;</span><br><span class="line">        System.out.println(e.getAnnual());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testWork</span><span class="params">(Employee e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e <span class="keyword">instanceof</span> Worker) &#123;</span><br><span class="line">            ((Worker) e).work();<span class="comment">//有向下转型操作</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">instanceof</span> Manager) &#123;</span><br><span class="line">            ((Manager) e).manage();<span class="comment">//有向下转型操作</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;不做处理...&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String name, <span class="keyword">double</span> salary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> salary;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getAnnual</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">12</span> * salary;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> <span class="keyword">extends</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Worker</span><span class="params">(String name, <span class="keyword">double</span> salary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, salary);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;普通员工&quot;</span> + getName() + <span class="string">&quot; is working&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getAnnual</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getAnnual();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span> <span class="keyword">extends</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> bonus;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Manager</span><span class="params">(String name, <span class="keyword">double</span> salary, <span class="keyword">double</span> bonus)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, salary);</span><br><span class="line">        <span class="keyword">this</span>.bonus = bonus;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">manage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;经理&quot;</span> + getName() + <span class="string">&quot; is managing&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getAnnual</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getAnnual() + bonus;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Object类"><a href="#Object类" class="headerlink" title="Object类"></a>Object类</h3><h4 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h4><p><strong>equals 是 Object 类中的方法，只能判断引用类型，默认判断的是地址是否相等，子类中往往重写该方法，用于判断内容是否相等。比如</strong> <strong>Integer，String</strong></p>
<p><strong>== 和 equals 的对比</strong></p>
<ul>
<li><strong>== 是一个比较运算符 </strong><ul>
<li><strong>1.既可以判断基本类型，又可以判断引用类型 </strong></li>
<li><strong>2.如果判断基本类型，判断的是值是否相等。 </strong></li>
<li><strong>3.如果判断引用类型，判断的是地址是否相等，即判定是不是同一个对象 </strong></li>
</ul>
</li>
<li><strong>equals 是 Object 类中的方法，只能判断引用类型，默认判断的是地址是否相等 </strong></li>
</ul>
<p><strong>如何重写 equals 方法</strong></p>
<p><strong>🌰：判断两个 Person 对象的内容是否相等，如果两个 Person 对象的各个属性值都一样，则返回true，反之false</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsExercise01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person1 = <span class="keyword">new</span> Person(<span class="string">&quot;jack&quot;</span>, <span class="number">10</span>, <span class="string">&#x27;男&#x27;</span>);</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person(<span class="string">&quot;jack&quot;</span>, <span class="number">20</span>, <span class="string">&#x27;男&#x27;</span>);</span><br><span class="line">        System.out.println(person1.equals(person2));<span class="comment">//假</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断两个Person 对象的内容是否相等，</span></span><br><span class="line"><span class="comment">//如果两个Person 对象的各个属性值都一样，则返回true，反之false</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123; <span class="comment">//extends Object</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">char</span> gender;</span><br><span class="line">    <span class="comment">//重写Object 的equals 方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//判断如果比较的两个对象是同一个对象，则直接返回true</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> == obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//类型判断</span></span><br><span class="line">        <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> Person) &#123;<span class="comment">//是Person，我们才比较</span></span><br><span class="line">            <span class="comment">//进行向下转型, 因为我需要得到obj 的各个属性</span></span><br><span class="line">            Person p = (Person)obj;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.name.equals(p.name) &amp;&amp; <span class="keyword">this</span>.age == p.age &amp;&amp; <span class="keyword">this</span>.gender == p.gender;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果不是Person ，则直接返回false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age, <span class="keyword">char</span> gender)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="hashCode"><a href="#hashCode" class="headerlink" title="hashCode"></a>hashCode</h4><p><strong>返回该对象的哈希码值。此方法是为了提高哈希表的性能。</strong></p>
<ul>
<li><strong>两个引用，如果指向的是同一个对象，则哈希值肯定是一样的！ </strong></li>
<li><strong>两个引用，如果指向的是不同对象，则哈希值是不一样的。 </strong></li>
<li><strong>哈希值主要根据地址号来的！，但是 不能完全将哈希值等价于地址。 </strong></li>
<li><strong>集合中 hashCode 如果需要的话，也会重写。 </strong></li>
</ul>
<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><ul>
<li><strong>默认返回：全类名(包名+类名)+@+哈希值的十六进制 </strong></li>
<li><strong>子类往往重写toString 方法，用于返回对象的属性信息 </strong></li>
<li><strong>重写 toString 方法，打印对象或拼接对象时，都会自动调用该对象的toString 形式 </strong></li>
<li><strong>当直接输出一个对象时， toString 方法会被默认的调用 </strong><ul>
<li><strong>比如System.out.println(monster) ； 就会默认调用 monster.toString()</strong></li>
</ul>
</li>
</ul>
<h4 id="finalize"><a href="#finalize" class="headerlink" title="finalize"></a>finalize</h4><p><strong>当对象被回收时，系统自动调用该对象的 finalize 方法。子类可以重写该方法，做一些释放资源的操作</strong></p>
<p><strong>什么时候被回收：当某个对象没有任何引用时，则 jvm</strong> <strong>就认为这个对象是一个垃圾对象，就会使用垃圾回收机制来销毁该对象，在销毁该对象前，会先调用finalize 方法。</strong></p>
<p><strong>垃圾回收机制的调用，是由系统来决定(即有自己的GC 算法), 也可以通过System.gc() 主动触发垃圾回收机制</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Finalize_</span> </span>&#123;</span><br><span class="line">    <span class="comment">//如果程序员不重写finalize,那么就会调用Object类的finalize, 即默认处理</span></span><br><span class="line">    <span class="comment">//如果程序员重写了finalize, 就可以实现自己的逻辑</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Car bmw = <span class="keyword">new</span> Car(<span class="string">&quot;宝马&quot;</span>);</span><br><span class="line">        <span class="comment">//这时car对象就是一个垃圾</span></span><br><span class="line">        <span class="comment">//垃圾回收器就会回收(销毁)对象, </span></span><br><span class="line">        <span class="comment">//在销毁对象前，会调用该对象的finalize 方法</span></span><br><span class="line">        bmw = <span class="keyword">null</span>;</span><br><span class="line">        System.gc();<span class="comment">//主动调用垃圾回收器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;程序退出了....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Car</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重写finalize</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我们销毁汽车&quot;</span> + name );</span><br><span class="line">        System.out.println(<span class="string">&quot;释放了某些资源...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="面向对象-高级"><a href="#面向对象-高级" class="headerlink" title="面向对象-高级"></a>面向对象-高级</h2><h3 id="类变量-静态变量"><a href="#类变量-静态变量" class="headerlink" title="类变量(静态变量)"></a>类变量(静态变量)</h3><h4 id="类变量简介"><a href="#类变量简介" class="headerlink" title="类变量简介"></a><strong>类变量简介</strong></h4><p><strong>类变量（又叫静态变量）是</strong><code>该类的所有对象共享的变量</code>，任何一个该类的对象去访问它时，取到的都是相同的值，同样任何一个该类的对象去修改它时，修改的也是同一个变量。</p>
<h4 id="类变量内存布局"><a href="#类变量内存布局" class="headerlink" title="类变量内存布局"></a><strong>类变量内存布局</strong></h4><ul>
<li><strong>jdk8 及以前版本，放在静态域； </strong></li>
<li><strong>jdk8 以后版本，放在堆中，当你的类加载的时候会在堆中生成一个类的 class 对象，静态变量就在 class 对象尾部。 </strong></li>
</ul>
<h4 id="类变量特点"><a href="#类变量特点" class="headerlink" title="类变量特点"></a>类变量特点</h4><ul>
<li><strong>类变量是同一个类所有对象实例共享的</strong></li>
<li><strong>类变量，在类加载的时候就生成了 </strong><ul>
<li><strong>(即类加载的时候就会初始化类变量，即使没有创建类对象实例也可通过类名访问)</strong></li>
</ul>
</li>
<li><strong>类变量的生命周期是随类的加载开始，随着类的消亡而销毁。</strong></li>
</ul>
<h4 id="类变量的定义"><a href="#类变量的定义" class="headerlink" title="类变量的定义"></a>类变量的定义</h4><ul>
<li><strong>访问修饰符 static 数据类型 变量名【推荐使用】</strong></li>
<li><strong>static 访问修饰符 数据类型 变量名</strong></li>
</ul>
<h4 id="类变量的访问"><a href="#类变量的访问" class="headerlink" title="类变量的访问"></a>类变量的访问</h4><ul>
<li><strong>类名.类变量名【推荐使用】</strong></li>
<li><strong>对象名.类变量名</strong></li>
</ul>
<h4 id="类变量使用场景"><a href="#类变量使用场景" class="headerlink" title="类变量使用场景"></a>类变量使用场景</h4><p><strong>当我们需要让某个类的所有对象都共享一个变量时，就可以考虑使用类变量(静态变量)。比如:定义学生类，统计所有学生共交多少钱。Student (name,static fee)</strong></p>
<h4 id="类变量与普通变量"><a href="#类变量与普通变量" class="headerlink" title="类变量与普通变量"></a>类变量与普通变量</h4><ul>
<li><strong>类变量是该类的所有对象共享的</strong></li>
<li><strong>实例变量(普通变量/类成员变量/非静态变量)是每个对象独享的</strong></li>
</ul>
<h4 id="代码理解类变量"><a href="#代码理解类变量" class="headerlink" title="代码理解类变量"></a>代码理解类变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChildGame</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//普通方法需定义一个变量 count, 统计有多少小孩加入了游戏</span></span><br><span class="line">        <span class="comment">//int count = 0;</span></span><br><span class="line">        Child child1 = <span class="keyword">new</span> Child(<span class="string">&quot;白骨精&quot;</span>);</span><br><span class="line">        child1.join();</span><br><span class="line">        <span class="comment">//count++;</span></span><br><span class="line">        child1.count++;</span><br><span class="line">        Child child2 = <span class="keyword">new</span> Child(<span class="string">&quot;狐狸精&quot;</span>);</span><br><span class="line">        child2.join();</span><br><span class="line">        <span class="comment">//count++;</span></span><br><span class="line">        child2.count++;</span><br><span class="line">        Child child3 = <span class="keyword">new</span> Child(<span class="string">&quot;老鼠精&quot;</span>);</span><br><span class="line">        child3.join();</span><br><span class="line">        <span class="comment">//count++;</span></span><br><span class="line">        child3.count++;</span><br><span class="line">        <span class="comment">//类变量，可以通过类名来访问,也可通过对象名访问</span></span><br><span class="line">        System.out.println(<span class="string">&quot;共有&quot;</span> + Child.count + <span class="string">&quot; 小孩加入了游戏...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;child1.count=&quot;</span> + child1.count);<span class="comment">//3</span></span><br><span class="line">        System.out.println(<span class="string">&quot;child2.count=&quot;</span> + child2.count);<span class="comment">//3</span></span><br><span class="line">        System.out.println(<span class="string">&quot;child3.count=&quot;</span> + child3.count);<span class="comment">//3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;  <span class="comment">//该变量最大的特点就是会被 Child 类的所有的对象实例共享</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Child</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">join</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot; 加入了游戏..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类方法-静态方法"><a href="#类方法-静态方法" class="headerlink" title="类方法(静态方法)"></a>类方法(静态方法)</h3><blockquote>
<p><strong>类方法，无需创建类的对象即可对其进行访问</strong></p>
</blockquote>
<h4 id="类方法定义"><a href="#类方法定义" class="headerlink" title="类方法定义"></a>类方法定义</h4><ul>
<li><strong>访问修饰符 static 数据返回类型 方法名(){}【推荐使用】</strong></li>
<li><strong>static 访问修饰符 数据返回类型 方法名(){}</strong></li>
</ul>
<h4 id="类方法访问"><a href="#类方法访问" class="headerlink" title="类方法访问"></a>类方法访问</h4><ul>
<li><strong>类名.类方法名【推荐使用】</strong></li>
<li><strong>对象名.类方法名</strong></li>
</ul>
<h4 id="类方法使用场景"><a href="#类方法使用场景" class="headerlink" title="类方法使用场景"></a>类方法使用场景</h4><ul>
<li><strong>当方法中不涉及到任何和对象相关的成员，则可以将方法设计成静态方法，提高开发效率。</strong></li>
<li><strong>比如工具类中的方法 Utils， Math类、Arrays类、Collections集合类</strong></li>
<li><strong>在实际开发中，往往将一些通用的方法，设计成静态方法，这样我们不需要创建对象就可以使用，比如打印一维数组，冒泡排序等等</strong></li>
</ul>
<h4 id="类方法与普通方法"><a href="#类方法与普通方法" class="headerlink" title="类方法与普通方法"></a>类方法与普通方法</h4><ul>
<li><strong>类方法和普通方法都是随着类的加载而加载，将结构信息存储在方法区：类方法中无 this 的参数，普通方法中隐含着 this 的参数。</strong></li>
<li><strong>类方法可以通过类名或对象名调用，而普通方法只能通过对象名调用。</strong></li>
<li><strong>类方法中不允许使用和对象有关的关键字，比如 </strong><code>this</code> 、<code>super</code>；普通方法可以。（因为当用<code>类名.类方法名</code>调用的时候，this 和 super 指示不明）</li>
<li><strong>类方法中只能访问静态变量或静态方法；而普通方法既可以访问普通变量（方法），也可以访问静态变量（方法）。</strong></li>
<li><strong>类方法可以被子类继承，但是不能被子类重写</strong></li>
</ul>
<h4 id="代码理解类方法"><a href="#代码理解类方法" class="headerlink" title="代码理解类方法"></a>代码理解类方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package com.jwt.static_;</span><br><span class="line">public class StaticMethod &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        //创建两个学生交学费</span><br><span class="line">        Stu tom = new Stu(&quot;Tom&quot;);</span><br><span class="line">        tom.payFee(100);</span><br><span class="line">        Stu mary = new Stu(&quot;mary&quot;);</span><br><span class="line">        mary.payFee(200);</span><br><span class="line">        Stu.showFee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Stu&#123;</span><br><span class="line">    private String name;</span><br><span class="line">    private static  double fee = 0;//静态变量累积学费</span><br><span class="line">    public Stu(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void payFee(double fee)&#123;//静态方法可访问静态变量</span><br><span class="line">        Stu.fee += fee;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void showFee()&#123;</span><br><span class="line">        System.out.println(&quot;总学费：&quot; + Stu.fee);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="main方法"><a href="#main方法" class="headerlink" title="main方法"></a>main方法</h3><h4 id="深入理解main方法"><a href="#深入理解main方法" class="headerlink" title="深入理解main方法"></a>深入理解main方法</h4><p><strong>main 方法的形式: </strong><code>public static void main(String[] args)&#123;&#125;</code></p>
<ul>
<li><strong>public：</strong> main 方法是 JVM 调用的，该方法的访问权限必须是 public；</li>
<li><strong>static：</strong> Java虚拟机在执行main()方法时不必创建对象，所以该方法必须是 static；</li>
<li><strong>args：</strong> 该方法接收 String 类型的数组参数，该数组中保存执行 Java 命令时传递给所运行的类的参数</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
</div>
<h4 id="特别注意"><a href="#特别注意" class="headerlink" title="特别注意"></a>特别注意</h4><ul>
<li><strong>在 main() 方法中，我们可以直接调用 main 方法所在类的静态方法或静态属性。 </strong></li>
<li><strong>但是，不能直接访问该类中的非静态成员，必须创建该类的一个实例对象后，才能通过这个对象去访问类中的非静态成员。 </strong></li>
</ul>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p><strong>代码块又称为 **</strong>初始化块<strong> ，属于类中的成员，类似于方法，将逻辑语句封装在方法体中，通过 { }</strong> **包围起来，但和方法不同，没有方法名，没有返回，没有参数，只有方法体，而且不用通过对象或类显式调用，而是加载类时或创建对象时隐式调用。</p>
<h4 id="代码块语法"><a href="#代码块语法" class="headerlink" title="代码块语法"></a>代码块语法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符]&#123;</span><br><span class="line">这里是代码；</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>说明：</strong></p>
<ul>
<li><strong>修饰符可选，要写的话，也只能写 static</strong></li>
<li><strong>代码块分为两类，使用 static 修饰的叫静态代码块，没有 static 修饰的，叫普通代码块</strong></li>
<li><strong>块中代码可以为任何逻辑语句（输入、输出、方法调用、循环、判断等）</strong></li>
<li><strong>分号，可以写上，也可以省略</strong></li>
</ul>
<h4 id="代码块的好处"><a href="#代码块的好处" class="headerlink" title="代码块的好处"></a>代码块的好处</h4><p><strong>首先看下面代码，三个构造器都有相同的语句，这样代码看起来比较冗余，如何简化代码呢？</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CodeBlock01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Movie movie = <span class="keyword">new</span> Movie(<span class="string">&quot;你好，李焕英&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;===============&quot;</span>);</span><br><span class="line">        Movie movie2 = <span class="keyword">new</span> Movie(<span class="string">&quot;唐探3&quot;</span>, <span class="number">100</span>, <span class="string">&quot;陈思诚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">    <span class="keyword">private</span> String director;</span><br><span class="line">    <span class="comment">//3个构造器-》重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Movie</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;电影屏幕打开...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;广告开始...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;电影正是开始...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Movie(String name) 被调用...&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Movie</span><span class="params">(String name, <span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;电影屏幕打开...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;广告开始...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;电影正是开始...&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Movie</span><span class="params">(String name, <span class="keyword">double</span> price, String director)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;电影屏幕打开...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;广告开始...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;电影正是开始...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Movie(String name, double price, String director) 被调用...&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">        <span class="keyword">this</span>.director = director;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>这时我们可以把相同的语句，放入到一个代码块中，这样当我们 **</strong>不管调用哪个构造器创建对象，都会先调用代码块的内容，代码块调用的顺序优先于构造器**</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    System.out.println(&quot;电影屏幕打开...&quot;);</span><br><span class="line">    System.out.println(&quot;广告开始...&quot;);</span><br><span class="line">    System.out.println(&quot;电影正是开始...&quot;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>改进后代码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CodeBlock01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Movie movie = <span class="keyword">new</span> Movie(<span class="string">&quot;你好，李焕英&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;===============&quot;</span>);</span><br><span class="line">        Movie movie2 = <span class="keyword">new</span> Movie(<span class="string">&quot;唐探3&quot;</span>, <span class="number">100</span>, <span class="string">&quot;陈思诚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">    <span class="keyword">private</span> String director;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//代码块</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;电影屏幕打开...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;广告开始...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;电影正是开始...&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//3个构造器-》重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Movie</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Movie(String name) 被调用...&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Movie</span><span class="params">(String name, <span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Movie</span><span class="params">(String name, <span class="keyword">double</span> price, String director)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Movie(String name, double price, String director) 被调用...&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">        <span class="keyword">this</span>.director = director;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>总结</strong></p>
<ul>
<li><strong>代码块相当于另外一种形式的构造器（对构造器的补充机制），可以做初始化的操作。</strong></li>
<li><strong>如果多个构造器中都有重复的语句，可以抽取到初始化块中，提高代码的复用性</strong></li>
</ul>
<h4 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h4><ul>
<li><strong>static 代码块也叫静态代码块，作用就是对类进行初始化，而且它随着类的加载而执行，并且只会执行一次。 </strong></li>
<li><strong>类什么时候被加载 </strong><ul>
<li><strong>创建对象实例时（new）</strong></li>
<li><strong>创建子类对象实例，父类也会被加载</strong></li>
<li><strong>使用类的静态成员时（静态方法，静态属性）</strong></li>
</ul>
</li>
<li><strong>普通的代码块，在创建对象实例时，会被隐式的调用。被创建一次，就会调用一次。 </strong></li>
<li><strong>如果只是使用类的静态成员时，普通代码块并不会执行。 </strong></li>
<li><strong>创建一个对象时，它们的调用顺序是： </strong><ul>
<li><strong>➀首先调用静态代码块和静态属性初始化（注意：静态代码块和静态属性初始化调用的优先级一样，如果有多个静态代码块和多个静态变量初始化，则按他们定义的顺序调用）</strong></li>
<li><strong>➁再调用普通代码块和普通属性的初始化（注意：普通代码块和普通属性初始化调用的优先级一样，如果有多个普通代码块和多个普通属性初始化，则按定义顺序调用）</strong></li>
<li><strong>➂最后调用构造方法。</strong></li>
</ul>
</li>
<li><strong>构造器的最前面其实隐含了 super() 和调用普通代码块。 </strong></li>
<li><strong>静态代码块只能直接调用静态成员（静态属性和静态方法），普通代码块可以调用任意成员 </strong></li>
<li><strong>创建一个子类对象时，在一个类调用顺序是： </strong><ul>
<li><strong>➀ 父类的静态代码块和静态属性初始化（优先级一样，按定义顺序执行）</strong></li>
<li><strong>➁ 子类的静态代码块和静态属性初始化（优先级一样，按定义顺序执行）</strong></li>
<li><strong>➂ 父类的普通代码块和普通属性初始化（优先级一样，按定义顺序执行）</strong></li>
<li><strong>➃ 父类的构造方法</strong></li>
<li><strong>➄ 子类的普通代码块和普通属性初始化</strong></li>
<li><strong>➅ 子类的构造方法</strong></li>
</ul>
</li>
</ul>
<p><strong>总结：</strong> <strong>1——根据static代码块是在类加载时被调用，当要创建子类这个对象时，发现这个类需要一个父类，所以把父类的 .class加载进来，故先是父类的静态代码块或静态属性初始化；</strong> <strong>2——然后是加载子类的类信息，故是子类的静态代码块或静态属性初始化；</strong> <strong>3——然后走进子类构造器的super语句，进入父类的构造器，先super()，然后调用父类普通代码块，故是父类的普通代码块或普通属性初始化；</strong> <strong>4——然后父类构造器调用完毕，即是父类的构造方法；</strong> <strong>5——然后回到子类的构造方法中隐含的调用普通代码块或普通属性的初始化；</strong> <strong>6——然后完成子类的构造器，故最后是子类的构造方法。</strong></p>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><h4 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h4><h4 id="懒汉式"><a href="#懒汉式" class="headerlink" title="懒汉式"></a>懒汉式</h4><h3 id="final关键字"><a href="#final关键字" class="headerlink" title="final关键字"></a>final关键字</h3><p><strong>final 在 Java 中的意思是最终，也可以称为完结器，表示对象是最终形态的，不可改变的意思。final 可以修饰类、</strong> <strong>属性、方法和局部变量，在某些情况下，就会使用到 final:</strong></p>
<ol>
<li><strong>当不希望类被继承时，可以用 final 修饰</strong></li>
<li><strong>当不希望父类的某个方法被子类覆盖/重写(override)时可以用 final 关键字修饰</strong></li>
<li><strong>当不希望类的的某个属性的值被修改，可以用 final 修饰</strong></li>
<li><strong>当不希望某个局部变量被修改，可以使用 final 修饰</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//1.如果我们要求A 类不能被其他类继承</span><br><span class="line">//可以使用final 修饰A 类</span><br><span class="line">final class A &#123;</span><br><span class="line">&#125;</span><br><span class="line">//class B extends A &#123;&#125;  //会报错</span><br><span class="line">class C &#123;</span><br><span class="line">    //2.如果我们要求hi 不能被子类重写</span><br><span class="line">    //可以使用final 修饰hi 方法</span><br><span class="line">    public final void hi() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class D extends C &#123;</span><br><span class="line">    // @Override   //会报错</span><br><span class="line">    // public void hi() &#123;</span><br><span class="line">    // System.out.println(&quot;重写了C 类的hi 方法..&quot;);</span><br><span class="line">    // &#125;</span><br><span class="line">&#125;</span><br><span class="line">//3.当不希望类的的某个属性的值被修改,可以用final 修饰</span><br><span class="line">class E &#123;</span><br><span class="line">    public final double TAX_RATE = 0.08;//常量</span><br><span class="line">&#125;</span><br><span class="line">//4.当不希望某个局部变量被修改，可以使用final 修饰</span><br><span class="line">class F &#123;</span><br><span class="line">    public void cry() &#123;</span><br><span class="line">        //这时，NUM 也称为局部常量</span><br><span class="line">        final double NUM = 0.01;</span><br><span class="line">        //NUM = 0.9; //会报错</span><br><span class="line">        System.out.println(&quot;NUM=&quot; + NUM);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>注意事项</strong></p>
<ol>
<li><strong>final 修饰的属性又叫常量，一般用 XX_XX_XX 来命名 </strong></li>
<li><strong>final 修饰的属性在定义时，必须赋初值，并且以后不能再修改，赋值可以在如下位置之一: </strong></li>
</ol>
<ul>
<li><strong>①定义时 </strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">double</span> TAX RATE = <span class="number">0.08</span>;<span class="comment">//定义时赋值</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>②在构造器中 </strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">AA</span><span class="params">()</span> </span>&#123;<span class="comment">//构造器中赋值</span></span><br><span class="line"></span><br><span class="line">    TAX_RATE2 = <span class="number">1.1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>③在代码块中 </strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;//在代码块赋值</span><br><span class="line"></span><br><span class="line">    TAX_RATE3 = 8.8;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>final 修饰的属性是静态的，则初始化的位置只能是</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* ①定义时、在静态代码块</span><br><span class="line"></span><br><span class="line">*   </span><br><span class="line">public static final double TAX_RATE = 99.9;</span><br><span class="line"></span><br><span class="line">static &#123;</span><br><span class="line">    TAX_RATE2 = 3.3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* ②不能在构造器中赋值</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>final 类不能继承，但是可以实例化对象。 </strong></li>
<li><strong>如果类不是 final 类，但是含有 final 方法，则该方法虽然不能重写，但是可</strong> <strong>以被继承。 </strong></li>
<li><strong>一般来说，如果一个类已经是 final 类了，就没有必要再将方法修饰成final方法。 </strong></li>
<li><strong>final 不能修饰构造方法(即构造器)。 </strong></li>
<li><strong>final 和 static 往往搭配使用，效率更高，不会导致类加载底层编译器做了优化处理。 </strong></li>
<li><strong>包装类(Integer,Double,Float, Boolean等都是 final )，String 也是 final 类。 </strong></li>
</ol>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><h4 id="抽象类引出"><a href="#抽象类引出" class="headerlink" title="抽象类引出"></a>抽象类引出</h4><p><strong>当父类的某些方法，需要声明，但是又不确定如何实现时，可以将其声明为抽象方法， 那么这个类就是抽象类</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    public Animal(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    //eat这里实现了，其实没有什么意义</span><br><span class="line">    public void eat() &#123;</span><br><span class="line">        System.out.println(&quot;这是一个动物，但是不知道吃什么..&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>考虑将该方法设计为抽象(abstract)方法，所谓抽象方法就是没有实现的方法，所谓没有实现就是指，没有方法体。当一个类中存在抽象方法时，需要将该类声明为</strong> <strong>abstract 类， 一般来说，抽象类会被继承，由其子类来实现抽象方法。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">abstract class Animal &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    public Animal(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    //只声明不实现</span><br><span class="line">    public abstract void eat() ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="抽象类介绍"><a href="#抽象类介绍" class="headerlink" title="抽象类介绍"></a>抽象类介绍</h4><p><strong>当父类的一些方法不能确定时，可以用 abstract 关键字来修饰该方法，这个方法</strong> <strong>就是抽象方法，并且需要用 abstract 来修饰该类，这个类就叫抽象类。</strong></p>
<ul>
<li><strong>1、用 abstract 关键字来修饰一个类时，这个类就叫抽象类 </strong><br>*</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 abstract 类名&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>2、用 abstract 关键字来修饰一个方法时，这个方法就是抽象方法 </strong><br>*</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 abstract 返回类型 方法名(参数列表);//不能有方法体</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>3、抽象类的价值更多作用是在于设计，是设计者设计好后，让子类继承并实现抽象类() </strong></li>
</ul>
<h4 id="抽象类注意事项"><a href="#抽象类注意事项" class="headerlink" title="抽象类注意事项"></a>抽象类注意事项</h4><ul>
<li><strong>1、抽象类不能被实例化 </strong></li>
<li><strong>2、抽象类不一定要包含 abstract 方法。 也就是说，抽象类可以没有 abstract 方法 </strong></li>
<li><strong>3、一旦类包含了 abstract 方法，则这个类必须声明为 abstract </strong></li>
<li><strong>4、abstract 只能修饰类和方法，不能修饰属性和其它的 </strong></li>
<li><strong>5、如果一个类继承了抽象类，则它必须实现抽象类的所有抽象方法，除非它自己也声明为 abstract 类。 </strong></li>
<li><strong>6、抽象方法不能使用 private，final 和 static 来修饰，因为这些关键字都是和重写相违背的。 </strong></li>
<li><strong>7、抽象类可以有任意成员[抽象类本质还是类]，比如：非抽象方法、构造器、静态属性等等 </strong></li>
<li><strong>8、抽象方法不能有主体，即不能实现</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractDetail01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1、抽象类，不能被实例化</span></span><br><span class="line">        <span class="keyword">new</span> A();<span class="comment">//错误写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2、抽象类不一定要包含abstract方法。也就是说,抽象类可以没有abstract方法</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//3、一旦类包含了abstract 方法,则这个类必须声明为abstract</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4、abstract 只能修饰类和方法，不能修饰属性和其它的</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> n1 = <span class="number">1</span>; <span class="comment">//错误写法</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//5、如果一个类继承了抽象类，则它必须实现抽象类的所有抽象方法，</span></span><br><span class="line">除非它自己也声明为 <span class="keyword">abstract</span> 类。</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="title">extens</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//这里相等于D子类实现了父类B的抽象方法，所谓实现方法，就是有方法体</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//6、抽象方法不能使用 private, final 和 static 来修饰，因为这些关键字都是和重写相违背的。</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;<span class="comment">//错误写法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;<span class="comment">//错误写法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;<span class="comment">//错误写法</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//7、抽象类的本质还是类，所以可以有类的各种成员</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">F</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> n1 = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String name = <span class="string">&quot;测试&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ok</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//8、抽象方法不能有主体，即不能实现</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">G</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span></span>&#123;<span class="comment">//错误写法 </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="抽象类最佳实践-模板设计模式"><a href="#抽象类最佳实践-模板设计模式" class="headerlink" title="抽象类最佳实践-模板设计模式"></a>抽象类最佳实践-模板设计模式</h4><p><strong>抽象类体现的就是一种模板模式的设计，抽象类作为多个子类的通用模板，子类在抽象类的基础上进行扩展、改造，但子类总体上会保留抽象类的行为方式。</strong></p>
<p><strong>模板设计模式能解决的问题</strong></p>
<ul>
<li><strong>1、当功能内部一部分实现是确定，一部分实现是不确定的。这时可以把不确定的部分暴露出去，让子类去实现。</strong></li>
<li><strong>2、编写一个抽象父类，父类提供了多个子类的通用方法，并把一个或多个方法留给其子类实现，就是一种模板模式。</strong></li>
</ul>
<p><strong>栗子🌰：</strong></p>
<ul>
<li><strong>1.有多个类，完成不同的任务 job</strong></li>
<li><strong>2.要求统计得到各自完成任务的时间</strong></li>
</ul>
<p><strong>请编程实现 TestTemplate.java</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">abstract public class Template &#123; //抽象类-模板设计模式</span><br><span class="line">    public abstract void job();//抽象方法</span><br><span class="line">    public void calculateTime() &#123;//实现方法，调用job 方法</span><br><span class="line">        //得到开始的时间</span><br><span class="line">        long start = System.currentTimeMillis();</span><br><span class="line">        job(); //动态绑定机制</span><br><span class="line">        //得的结束的时间</span><br><span class="line">        long end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(&quot;任务执行时间&quot; + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class AA extends Template &#123;</span><br><span class="line">    //计算任务1</span><br><span class="line">    @Override</span><br><span class="line">    public void job() &#123; //实现Template 的抽象方法job</span><br><span class="line">        long num = 0;</span><br><span class="line">        for (long i = 1; i &lt;= 800000; i++) &#123;</span><br><span class="line">            num += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class BB extends Template &#123;</span><br><span class="line">    //计算任务2</span><br><span class="line">    @Override</span><br><span class="line">    public void job() &#123;</span><br><span class="line">        long num = 0;</span><br><span class="line">        for (long i = 1; i &lt;= 80000; i++) &#123;</span><br><span class="line">            num *= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class TestTemplate &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        AA aa = new AA();</span><br><span class="line">        aa.calculateTime(); //多态</span><br><span class="line">        BB bb = new BB();</span><br><span class="line">        bb.calculateTime();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><h4 id="接口简介"><a href="#接口简介" class="headerlink" title="接口简介"></a>接口简介</h4><p><strong>接口就是给出一些没有实现的方法，封装到一起，到某个类要使用的时候，再根据具体情况把这些方法写出来。</strong></p>
<p><strong>语法:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//定义接口</span><br><span class="line">interface 接口名&#123;</span><br><span class="line">    属性;//实际上是 public static final 属性；</span><br><span class="line">    抽象方法; //实际上是 public abstract 抽象方法; </span><br><span class="line">    //接口中抽象方法可以不用 abstract 关键字</span><br><span class="line">&#125;</span><br><span class="line">//实现接口</span><br><span class="line">class 类名 implements 接口&#123;</span><br><span class="line">    自己属性;</span><br><span class="line">    自己方法;</span><br><span class="line">    必须实现的接口的抽象方法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>接口是更加抽象的抽象类，抽象类里的方法可以有方法体，接口里的所有方法都没有方法体[jdk7.0]。 </strong></li>
<li><strong>接口体现了程序设计的多态和高内聚低偶合的设计思想。 </strong></li>
<li><strong>特别说明: Jdk8.0 后接口类可以有静态方法，默认方法，也就是说接口中可以有方法的具体实现。 </strong></li>
</ul>
<h4 id="接口注意事项"><a href="#接口注意事项" class="headerlink" title="接口注意事项"></a>接口注意事项</h4><ul>
<li><strong>1、接口不能被实例化 </strong></li>
<li><strong>2、接口中所有的方法是 public 方法，接口中抽象方法，可以不用 abstract 修饰 </strong></li>
<li><strong>3、一个普通类实现接口，就必须将该接口的所有方法都实现。 </strong></li>
<li><strong>4、抽象类实现接口，可以不用实现接口的方法。</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceDetail01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.接口不能被实例化</span></span><br><span class="line">        <span class="keyword">new</span> IA();<span class="comment">//错误写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.接口中所有的方法是public 方法, 接口中抽象方法，可以不用abstract 修饰</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IA</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;<span class="comment">//修饰符默认 public</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;<span class="comment">//实际就是 public abstract void hi();</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//3.一个普通类实现接口,就必须将该接口的所有方法都实现,可以使用alt+enter 来解决</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">implements</span> <span class="title">IA</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4.抽象类去实现接口时，可以不实现接口的抽象方法</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Tiger</span> <span class="keyword">implements</span> <span class="title">IA</span> </span>&#123;</span><br><span class="line">&#125; </span><br><span class="line">●  <span class="number">5</span>、一个类同时可以实现多 个接口 </span><br><span class="line">●  <span class="number">6</span>、接口中的属性，只能是 <span class="keyword">final</span> 的，而且是 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> 修饰符。 </span><br><span class="line">○ 比如：<span class="keyword">int</span> a= <span class="number">1</span>；实际上是 <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> a=<span class="number">1</span>; (必须初始化)</span><br><span class="line">●  <span class="number">7</span>、接口中属性的访问形式：接口名.属性名 </span><br><span class="line">●  <span class="number">8</span>、接口不能继承其它的类，但是可以继承多个别的接口 </span><br><span class="line">○ <span class="class"><span class="keyword">interface</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span>,<span class="title">C</span></span>&#123;&#125;</span><br><span class="line">●  <span class="number">9</span>、接口的修饰符只能是 <span class="keyword">public</span> 和默认，这点和类的修饰符是一样的。</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceDetail02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//接口中的属性,是public static final</span></span><br><span class="line">        System.out.println(IB.n1);<span class="comment">//说明n1 就是static</span></span><br><span class="line">        <span class="comment">//IB.n1 = 30; 说明n1 是final</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IB</span> </span>&#123;</span><br><span class="line">    <span class="comment">//接口中的属性,只能是final 的，而且是public static final 修饰符</span></span><br><span class="line">    <span class="keyword">int</span> n1 = <span class="number">10</span>; <span class="comment">//等价public static final int n1 = 10;</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口的修饰符只能是public 和默认，这点和类的修饰符是一样的</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IC</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口不能继承其它的类,但是可以继承多个别的接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ID</span> <span class="keyword">extends</span> <span class="title">IB</span>,<span class="title">IC</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//一个类同时可以实现多个接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pig</span> <span class="keyword">implements</span> <span class="title">IB</span>,<span class="title">IC</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="接口-amp-继承"><a href="#接口-amp-继承" class="headerlink" title="接口&amp;继承"></a>接口&amp;继承</h4><ul>
<li><strong>当子类继承了父类，就自动的拥有父类的功能 </strong></li>
<li><strong>如果子类需要扩展功能，可以通过实现接口的方式扩展 </strong></li>
<li><strong>可以理解实现接口是对Java 单继承机制的一种补充</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtendsVsInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LittleMonkey wuKong = <span class="keyword">new</span> LittleMonkey(<span class="string">&quot;悟空&quot;</span>);</span><br><span class="line">        wuKong.climbing();</span><br><span class="line">        wuKong.swimming();</span><br><span class="line">        wuKong.flying();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//猴子</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Monkey</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Monkey</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">climbing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot; 会爬树...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Fishable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">swimming</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Birdable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">flying</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LittleMonkey</span> <span class="keyword">extends</span> <span class="title">Monkey</span> <span class="keyword">implements</span> <span class="title">Fishable</span>,<span class="title">Birdable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LittleMonkey</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swimming</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; 通过学习，可以像鱼儿一样游泳...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flying</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; 通过学习，可以像鸟儿一样飞翔...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">悟空 会爬树...</span></span><br><span class="line"><span class="comment">悟空 通过学习，可以像鱼儿一样游泳...</span></span><br><span class="line"><span class="comment">悟空 通过学习，可以像鸟儿一样飞翔...</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><strong>接口和继承解决的问题不同</strong></p>
<ul>
<li><strong>继承的价值主要在于：解决代码的复用性和可维护性。</strong></li>
<li><strong>接口的价值主要在于：设计，设计好各种规范(方法)，让其它类去实现这些方法，即更加的灵活。</strong></li>
<li><strong>接口比继承更加灵活，继承是满足 is-a 的关系，而接口只需满足 like-a 的关系。</strong></li>
<li><strong>接口在一定程度上实现代码解耦(代码相互依赖)[即:接口规范性+动态绑定机制]</strong></li>
</ul>
<h4 id="接口的多态特性"><a href="#接口的多态特性" class="headerlink" title="接口的多态特性"></a>接口的多态特性</h4><ul>
<li><strong>1)多态参数</strong></li>
</ul>
<p><strong>接口类型的变量可以指向实现了该接口类的对象实例</strong></p>
<p><strong>例如 USB 接口，既可以接收手机对象，又可以接收相机对象，就体现了接口多态(接口引用可以指向实现了接口的类的对象)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfacePolyParameter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//接口的多态体现</span></span><br><span class="line">        <span class="comment">//接口类型的变量usb可以指向实现了USB接口类的对象实例</span></span><br><span class="line">        USB usb = <span class="keyword">new</span> Phone();</span><br><span class="line">        usb = <span class="keyword">new</span> Camera();</span><br><span class="line">        <span class="comment">//继承体现的多态</span></span><br><span class="line">        <span class="comment">//父类类型的变量father可以指向继承Farher的子类的对象实例</span></span><br><span class="line">        Farher father = <span class="keyword">new</span> Son();</span><br><span class="line">        father = <span class="keyword">new</span> Daughter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">USB</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Camera</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Farher</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Farher</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Daughter</span> <span class="keyword">extends</span> <span class="title">Farher</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>2)多态数组</strong></li>
</ul>
<p><strong>演示案例: 给 USB 数组中，存放 Phone 和相机对象， Phone 类还有一个特有的方法 call() ,请遍历 USB 数组，如果是 Phone</strong> <strong>对象，除了调用 USB 接口定义的方法外，还需要调用 Phone 特有方法call</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfacePolyArr</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        USB[] usb = <span class="keyword">new</span> USB[<span class="number">2</span>];</span><br><span class="line">        usb[<span class="number">0</span>] = <span class="keyword">new</span> Phone();</span><br><span class="line">        usb[<span class="number">1</span>] = <span class="keyword">new</span> Camera();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; usb.length; i++) &#123;</span><br><span class="line">            usb[i].work();<span class="comment">//动态绑定..</span></span><br><span class="line">            <span class="comment">//需要进行类型的向下转型</span></span><br><span class="line">            <span class="keyword">if</span>(usb[i] <span class="keyword">instanceof</span> Phone) &#123;<span class="comment">//判断他的运行类型是Phone_</span></span><br><span class="line">                ((Phone) usb[i]).call();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">USB</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;手机可以打电话...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;手机工作中...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Camera</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;相机工作中...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>3)多态传递</strong></li>
</ul>
<p><strong>如果一个类 Teacher 实现了接口 IG ，IG 接口继承了 IH 接口，那么，实际上就相当于Teacher 类也实现了 IH</strong> <strong>接口，这就是接口多态传递现象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfacePolyPass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//接口类型的变量可以指向，实现了该接口的类的对象实例</span></span><br><span class="line">        IG ig = <span class="keyword">new</span> Teacher();</span><br><span class="line">        <span class="comment">//如果IG 继承了IH 接口，而Teacher 类实现了IG 接口</span></span><br><span class="line">        <span class="comment">//那么，实际上就相当于Teacher 类也实现了IH 接口.</span></span><br><span class="line">        <span class="comment">//这就是所谓的接口多态传递现象.</span></span><br><span class="line">        IH ih = <span class="keyword">new</span> Teacher();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IH</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IG</span> <span class="keyword">extends</span> <span class="title">IH</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">implements</span> <span class="title">IG</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>练习：判断代码是否有误并改进</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceExercise02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> C().pX();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123; </span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;<span class="comment">//等价public static final int x = 0;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">1</span>;<span class="comment">//普通属性</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pX</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(x); <span class="comment">//错误，原因不明确x</span></span><br><span class="line">        <span class="comment">//改进</span></span><br><span class="line">        <span class="comment">//访问接口的x就使用A.x</span></span><br><span class="line">        <span class="comment">//访问父类的x就使用super.x</span></span><br><span class="line">        System.out.println(A.x + <span class="string">&quot; &quot;</span> + <span class="keyword">super</span>.x);   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h3><h4 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h4><p><strong>一个类的内部又完整的嵌套了另一个类结构。被嵌套的类称为内部类(inner class)，嵌套其他类的类称为外部类(outer class)。</strong></p>
<p><strong>内部类最大的特点就是可以直接访问私有属性，并且可以体现类与类之间的包含关系</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//语法</span><br><span class="line">class Outer&#123; //外部类</span><br><span class="line">    class Inner&#123; //内部类</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Other&#123; //外部其他类</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>类的五大成员：[属性、方法、构造器、代码块、内部类]</strong></p>
<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><p><strong>定义在局部位置(方法中/代码块) :</strong></p>
<ul>
<li><strong>(1) 局部内部类（有类名）</strong></li>
<li><strong>(2) 匿名内部类（没有类名）</strong></li>
</ul>
<p><strong>定义在成员位置：</strong></p>
<ul>
<li><strong>(1) 成员内部类（没用 static 修饰）</strong></li>
<li><strong>(2) 静态内部类（使用 static 修饰）</strong></li>
</ul>
<h4 id="局部内部类"><a href="#局部内部类" class="headerlink" title="局部内部类"></a>局部内部类</h4><p><strong>局部内部类是定义在外部类的局部位置(方法中或者代码块中)，并且有类名。</strong></p>
<ul>
<li><strong>1.不能添加访问修饰符，因为它的地位就是一个局部变量。局部变量是不能使用修饰符的。但是可以使用 final 修饰，因为局部变量也可以使用 final </strong></li>
<li><strong>2.作用域：仅仅在定义它的方法或代码块中。 </strong></li>
<li><strong>3.局部内部类访向外部类的成员 </strong><ul>
<li><strong>访问方式：可以直接访问外部类的所有成员，包含私有的</strong></li>
</ul>
</li>
<li><strong>4.外部类访向局部内部类的成员 </strong><ul>
<li><strong>访问方式：创建局部内部类的对象，再访问(注意:必须在作用域内)</strong></li>
</ul>
</li>
<li><strong>5.外部其他类不能访向局部内部类(因为局部内部类地位是一个局部变量) </strong></li>
<li><strong>6.如果外部类和局部内部类的成员重名时 </strong><ul>
<li><strong>默认遵循就近原则</strong></li>
<li><strong>如果想访问外部类的成员，则可以使用(外部类名.this.成员)去访问</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">package com.jwt.innerclass;</span><br><span class="line">public class LocalInnerClass &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Outer outer = new Outer();</span><br><span class="line">        outer.m1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Outer &#123;//外部类</span><br><span class="line">    private int n1 = 100;</span><br><span class="line">    private int n2 = 700;</span><br><span class="line">    //私有方法</span><br><span class="line">    private void m2() &#123;</span><br><span class="line">        System.out.println(&quot;外部类的私有方法 m2()&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    //方法</span><br><span class="line">    public void m1() &#123;</span><br><span class="line">        //1.不能添加访问修饰符,但是可以使用final 修饰</span><br><span class="line">        //2.作用域: 仅仅在定义它的方法或代码块中</span><br><span class="line">        final class Inner &#123;//局部内部类</span><br><span class="line">            private int n1 = 800;//与外部类成员重名</span><br><span class="line">            public void f1() &#123;</span><br><span class="line">                // 3.可以直接访问外部类的所有成员，包含私有的</span><br><span class="line">                System.out.println(&quot;n2=&quot; + n2 );</span><br><span class="line">                m2();</span><br><span class="line">                //6. 如果外部类和局部内部类的成员重名时，</span><br><span class="line">                //1)默认遵循就近原则，</span><br><span class="line">                System.out.println(&quot;n1=&quot; + n1 );</span><br><span class="line">                // 2)如果想访问外部类的成员，使用（外部类名.this.成员）去访问</span><br><span class="line">                System.out.println(&quot;n1=&quot; + Outer.this.n1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //4. 外部类访向局部内部类的成员，创建局部内部类的对象，再访问</span><br><span class="line">        Inner inner = new Inner();</span><br><span class="line">        inner.f1();</span><br><span class="line">        System.out.println(&quot;外部类访问局部内部类的n1=&quot; + inner.n1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h4><p><strong>匿名内部类是定义在外部类的局部位置(方法中或者代码块中)，并且没有类名</strong></p>
<ul>
<li><strong>匿名内部类本质是类</strong></li>
<li><strong>同时还是一个对象</strong></li>
</ul>
<p><strong>匿名内部类的基本语法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new 类或接口(参数列表)&#123;</span><br><span class="line">    类体</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>匿名内部类的语法比较奇特， 匿名内部类既是一个类的定义，同时它本身也是一个对象，因此从语法上看，它既有定义类的特征，也有创建对象的特征</strong></p>
<ul>
<li><strong>1.不能添加访问修饰符，因为它的地位就是一个局部变量。 </strong></li>
<li><strong>2.作用域：仅仅在定义它的方法或代码块中。 </strong></li>
<li><strong>3.匿名内部类访向外部类成员 </strong><ul>
<li><strong>访问方式：可以直接访问外部类的所有成员，包含私有的</strong></li>
</ul>
</li>
<li><strong>4.外部其他类不能访匿名内部类(因为匿名内部类地位是一个局部变量) </strong></li>
<li><strong>5.如果外部类和匿名内部类的成员重名时，匿名内部类访问的话 </strong><ul>
<li><strong>默认遵循就近原则</strong></li>
<li><strong>如果想访问外部类的成员，则可以使用(外部类名.this.成员) 去访问</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">package com.jwt.innerclass;</span><br><span class="line">public class AnonymousInnerClass &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Outer05 outer05 = new Outer05();</span><br><span class="line">        outer05.f1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Outer05 &#123;</span><br><span class="line">    private int n1 = 100;</span><br><span class="line">    private int n2 = 700;</span><br><span class="line">    public void f1() &#123;</span><br><span class="line">        //1.不能添加访问修饰符//2.作用域: 仅仅在定义它的方法或代码块中</span><br><span class="line">        Person p = new Person() &#123;//创建一个基于类的匿名内部类</span><br><span class="line">            private int n1 = 800;//与外部类成员重名</span><br><span class="line">            @Override public void hi() &#123;</span><br><span class="line">                //3.可以直接访问外部类的所有成员，包含私有的</span><br><span class="line">                System.out.println(&quot;n2=&quot; + n2 );</span><br><span class="line">                //5.如果外部类和匿名内部类的成员重名时，匿名内部类访问的话</span><br><span class="line">                //1)默认遵循就近原则</span><br><span class="line">                System.out.println(&quot;n1=&quot; + n1 );</span><br><span class="line">                //2)如果想访问外部类的成员，则可以使用（外部类名.this.成员）去访问</span><br><span class="line">                System.out.println(&quot;n1=&quot; + Outer05.this.n1 );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        p.hi();//动态绑定</span><br><span class="line">        //也可以直接调用, 匿名内部类本身也是返回对象</span><br><span class="line">        new Person()&#123;</span><br><span class="line">            @Override public void ok(String str) &#123;</span><br><span class="line">                super.ok(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.ok(&quot;jack&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Person &#123;//类</span><br><span class="line">    public void hi() &#123;</span><br><span class="line">        System.out.println(&quot;Person hi()&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public void ok(String str) &#123;</span><br><span class="line">        System.out.println(&quot;Person ok() &quot; + str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>匿名内部类的最佳实践</strong> ：当做实参直接传递，简洁高效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package com.jwt.innerclass;</span><br><span class="line">public class InnerClassExercise01 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">        //当做实参直接传递，简洁高效</span><br><span class="line">        f1(new IL() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void show() &#123;</span><br><span class="line">                System.out.println(&quot;这是一副名画~~...&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        //传统方法</span><br><span class="line">        f1(new Picture());</span><br><span class="line">    &#125;</span><br><span class="line">    //静态方法,形参是接口类型</span><br><span class="line">    public static void f1(IL il) &#123;</span><br><span class="line">        il.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//接口</span><br><span class="line">interface IL &#123;</span><br><span class="line">    void show();</span><br><span class="line">&#125;</span><br><span class="line">//类-&gt;实现IL</span><br><span class="line">class Picture implements IL &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void show() &#123;</span><br><span class="line">        System.out.println(&quot;这是一副名画XX...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>练习：</strong></p>
<p><strong>1.有一个铃声接口 Bell，里面有个 ring 方法。</strong> <strong>2.有一个手机类 Cellphone, 具有闹钟功能 alarmclock，参数是 Bell 类型</strong> <strong>3.测试手机类的闹钟功能，通过匿名内部类(对象)作为参数，打印:懒猪起床了</strong> <strong>4.再传入另一个匿名内部类(对象)，打印:小伙伴上课了</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package com.jwt.innerclass;</span><br><span class="line">public class InnerClassExercise02 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Cellphone cellphone = new Cellphone();</span><br><span class="line">        cellphone.alarmclock(new Bell() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void ring() &#123;</span><br><span class="line">                System.out.println(&quot;懒猪起床了&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        cellphone.alarmclock(new Bell() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void ring() &#123;</span><br><span class="line">                System.out.println(&quot;小伙伴上课了&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">interface Bell&#123;</span><br><span class="line">    void ring();</span><br><span class="line">&#125;</span><br><span class="line">class Cellphone &#123;</span><br><span class="line">    public void alarmclock(Bell bell)&#123;</span><br><span class="line">        System.out.println(bell.getClass());</span><br><span class="line">        bell.ring();//动态绑定</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="成员内部类"><a href="#成员内部类" class="headerlink" title="成员内部类"></a>成员内部类</h4><p><strong>成员内部类是定义在外部类的成员位置，并且没有 static 修饰。</strong></p>
<ul>
<li><strong>1.可以添加任意访问修饰符(public、protected 、默认、private)，因为它的地位就是一个成员。 </strong></li>
<li><strong>2.作用域：和外部类的其他成员一样，为整个类体 </strong></li>
<li><strong>3.成员内部类访向外部类成员(比如:属性) </strong><ul>
<li><strong>访问方式：可以直接访问外部类的所有成员，包含私有的</strong></li>
</ul>
</li>
<li><strong>4.外部类访问成员内部类 </strong><ul>
<li><strong>访问方式：创建对象， 再访问</strong></li>
</ul>
</li>
<li><strong>5.外部其他类访问成员内部类</strong> <strong>‘//方式一：外部类名.成员内部类名 对象名 = 外部类名.new 成员内部类名()</strong> <strong>Outer.Inner inner = Outer.new Inner()</strong> <strong>//方式二:在外部类中编写一个方法，返回成员内部类对象</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Inner <span class="title">getInnerInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Inner();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Outer outer = <span class="keyword">new</span> Outer()</span><br><span class="line">outer.getInnerInstance()</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>6.如果外部类和内部类的成员重名时， 内部类访问的话 </strong><ul>
<li><strong>默认遵循就近原则</strong></li>
<li><strong>如果想访问外部类的成员，则可以使用(外部类名.this.成员)去访问</strong></li>
</ul>
</li>
</ul>
<h4 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h4><p><strong>静态内部类是定义在外部类的成员位置，并且有 static 修饰。</strong></p>
<ul>
<li><strong>1.可以添加任意访问修饰符(public、 protected、 默认、private),因为它的地位就是一个成员。 </strong></li>
<li><strong>2.作用域：同其他的成员，为整个类体 </strong></li>
<li><strong>3.静态内部类访问外部类(比如:静态属性) </strong><ul>
<li><strong>访问方式：可以直接访问外部类的所有静态成员，包含私有的，但不能直接访问非静态成员</strong></li>
</ul>
</li>
<li><strong>4.外部类访问静态内部类 </strong><ul>
<li><strong>访问方式：创建对象，再访问</strong></li>
</ul>
</li>
<li><strong>5.外部其他类访问静态内部类</strong> <strong>//方式一：外部类名.成员内部类名 对象名 = 外部类名.new 成员内部类名()</strong> <strong>Outer.Inner inner = new Outer.Inner()</strong> <strong>//方式二:在外部类中编写一个方法，返回成员内部类对象</strong> <strong>static class Inner{</strong> <strong>… </strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Inner <span class="title">getInnerInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Inner();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Outer outer = <span class="keyword">new</span> Outer()</span><br><span class="line">outer.getInnerInstance()</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">Outer.getInnerInstance()</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>6.如果外部类和静态内部类的成员重名时，静态内部类访问的时， </strong><ul>
<li><strong>默认遵循就近原则</strong></li>
<li><strong>如果想访问外部类的成员，则可以使用(外部类名.成员) 去访问</strong> <strong>## </strong></li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640" title="头像" alt="头像"></a><div class="post-copyright__author_name">REAI</div><div class="post-copyright__author_desc">遇见即是上上签</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.reaicc.com/posts/mxdxjava/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://blog.reaicc.com/posts/mxdxjava/')">Java-面向对象</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/reward/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/reward/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.reaicc.com/posts/mxdxjava/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Java-面向对象&amp;url=https://blog.reaicc.com/posts/mxdxjava/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.reaicc.com" target="_blank">REAI</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.onmicrosoft.cn/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://npm.onmicrosoft.cn/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/beiwang/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">备忘</div></div></a></div><div class="next-post pull-right"><a href="/posts/30451/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">获取某个日期位于当年的第几天</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" ait="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(/img/qrcode_gzh.jpg) center center / 100% no-repeat"></div></div></div></div><div class="card-widget" id="newYear"><div class="item-headline"><i></i><span></span></div><div class="item-content"><div id="newYear-main"><div class="mask"></div> <p class="title"></p> <div class="newYear-time"></div> <p class="today" style="text-align: right;"></p> </div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">面向对象-基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E4%B8%AD%E7%BA%A7"><span class="toc-number">2.</span> <span class="toc-text">面向对象-中级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">2.1.</span> <span class="toc-text">多态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E5%BC%95%E5%87%BA"><span class="toc-number">2.1.1.</span> <span class="toc-text">多态引出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.2.</span> <span class="toc-text">多态介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B"><span class="toc-number">2.1.3.</span> <span class="toc-text">多态的向上转型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B"><span class="toc-number">2.1.4.</span> <span class="toc-text">多态的向下转型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E9%87%8D%E5%86%99%E9%97%AE%E9%A2%98"><span class="toc-number">2.1.5.</span> <span class="toc-text">属性重写问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#instanceOf"><span class="toc-number">2.1.6.</span> <span class="toc-text">instanceOf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E6%9C%BA%E5%88%B6"><span class="toc-number">2.1.7.</span> <span class="toc-text">动态绑定机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">2.1.8.</span> <span class="toc-text">多态的应用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-number">2.1.8.1.</span> <span class="toc-text">多态数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E5%8F%82%E6%95%B0"><span class="toc-number">2.1.8.2.</span> <span class="toc-text">多态参数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">Object类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#equals"><span class="toc-number">2.2.1.</span> <span class="toc-text">equals</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hashCode"><span class="toc-number">2.2.2.</span> <span class="toc-text">hashCode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toString-NaN"><span class="toc-number">2.2.3.</span> <span class="toc-text">toString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#finalize"><span class="toc-number">2.2.4.</span> <span class="toc-text">finalize</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E9%AB%98%E7%BA%A7"><span class="toc-number">3.</span> <span class="toc-text">面向对象-高级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F-%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.</span> <span class="toc-text">类变量(静态变量)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E7%AE%80%E4%BB%8B"><span class="toc-number">3.1.1.</span> <span class="toc-text">类变量简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80"><span class="toc-number">3.1.2.</span> <span class="toc-text">类变量内存布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E7%89%B9%E7%82%B9"><span class="toc-number">3.1.3.</span> <span class="toc-text">类变量特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.1.4.</span> <span class="toc-text">类变量的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E7%9A%84%E8%AE%BF%E9%97%AE"><span class="toc-number">3.1.5.</span> <span class="toc-text">类变量的访问</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.1.6.</span> <span class="toc-text">类变量使用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E4%B8%8E%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.7.</span> <span class="toc-text">类变量与普通变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%90%86%E8%A7%A3%E7%B1%BB%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.8.</span> <span class="toc-text">代码理解类变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95-%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">类方法(静态方法)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E5%AE%9A%E4%B9%89"><span class="toc-number">3.2.1.</span> <span class="toc-text">类方法定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E8%AE%BF%E9%97%AE"><span class="toc-number">3.2.2.</span> <span class="toc-text">类方法访问</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.2.3.</span> <span class="toc-text">类方法使用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E4%B8%8E%E6%99%AE%E9%80%9A%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.4.</span> <span class="toc-text">类方法与普通方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%90%86%E8%A7%A3%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.5.</span> <span class="toc-text">代码理解类方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main%E6%96%B9%E6%B3%95"><span class="toc-number">3.3.</span> <span class="toc-text">main方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3main%E6%96%B9%E6%B3%95"><span class="toc-number">3.3.1.</span> <span class="toc-text">深入理解main方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F"><span class="toc-number">3.3.2.</span> <span class="toc-text">特别注意</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">3.4.</span> <span class="toc-text">代码块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">3.4.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97%E8%AF%AD%E6%B3%95"><span class="toc-number">3.4.2.</span> <span class="toc-text">代码块语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">3.4.3.</span> <span class="toc-text">代码块的好处</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%82%B9"><span class="toc-number">3.4.4.</span> <span class="toc-text">重点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.5.</span> <span class="toc-text">单例模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A5%BF%E6%B1%89%E5%BC%8F"><span class="toc-number">3.5.1.</span> <span class="toc-text">饿汉式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%87%92%E6%B1%89%E5%BC%8F"><span class="toc-number">3.5.2.</span> <span class="toc-text">懒汉式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#final%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">3.6.</span> <span class="toc-text">final关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">3.7.</span> <span class="toc-text">抽象类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%BC%95%E5%87%BA"><span class="toc-number">3.7.1.</span> <span class="toc-text">抽象类引出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.7.2.</span> <span class="toc-text">抽象类介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.7.3.</span> <span class="toc-text">抽象类注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-%E6%A8%A1%E6%9D%BF%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.7.4.</span> <span class="toc-text">抽象类最佳实践-模板设计模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.8.</span> <span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B"><span class="toc-number">3.8.1.</span> <span class="toc-text">接口简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.8.2.</span> <span class="toc-text">接口注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3-amp-%E7%BB%A7%E6%89%BF"><span class="toc-number">3.8.3.</span> <span class="toc-text">接口&amp;继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A4%9A%E6%80%81%E7%89%B9%E6%80%A7"><span class="toc-number">3.8.4.</span> <span class="toc-text">接口的多态特性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">3.9.</span> <span class="toc-text">内部类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-1"><span class="toc-number">3.9.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">3.9.2.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">3.9.3.</span> <span class="toc-text">局部内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">3.9.4.</span> <span class="toc-text">匿名内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">3.9.5.</span> <span class="toc-text">成员内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">3.9.6.</span> <span class="toc-text">静态内部类</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/58328/" title="发布一个npm包">发布一个npm包</a><time datetime="2024-06-04T22:08:41.090Z" title="发表于 2024-06-05 06:08:41">2024-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/48591/" title="HTTP:报文，缓存，Cookie与HTTPS">HTTP:报文，缓存，Cookie与HTTPS</a><time datetime="2024-06-04T22:05:46.160Z" title="发表于 2024-06-05 06:05:46">2024-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/35707/" title="Linux命令之文件与权限管理">Linux命令之文件与权限管理</a><time datetime="2024-06-04T21:58:39.201Z" title="发表于 2024-06-05 05:58:39">2024-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/64074/" title="Git关联Github和码云并利用IDEA内置工具">Git关联Github和码云并利用IDEA内置工具</a><time datetime="2024-06-04T21:52:50.241Z" title="发表于 2024-06-05 05:52:50">2024-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/11097/" title="数据库影响因素之硬件、存储引擎和事务">数据库影响因素之硬件、存储引擎和事务</a><time datetime="2024-06-04T21:43:10.296Z" title="发表于 2024-06-05 05:43:10">2024-06-05</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:2877406366@qq.com" title="email"><i class="anzhiyufont anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com" title="微博"><i class="anzhiyufont anzhiyufont anzhiyu-icon-weibo"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.facebook.com/profile.php" title="facebook"><i class="anzhiyufont anzhiyufont anzhiyu-icon-facebook1"></i></a><a class="deal_link" href="/atom.xml" title="RSS"><i class="anzhiyufont anzhiyu-icon-rss"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=2877406366&amp;s=640" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/" title="Github"><i class="anzhiyufont anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com" title="Bilibili"><i class="anzhiyufont anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.douyin.com/user/MS4wLjABAAAARlF7u0o6BTIX0KiHreekyz5_nqDUauZDgG6AtnpESAI" title="抖音"><i class="anzhiyufont anzhiyufont anzhiyu-icon-tiktok"></i></a></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="51la统计" target="_blank" rel="noopener" href="https://v6.51.la/">51la统计</a><a class="footer-item" title="十年之约" target="_blank" rel="noopener" href="https://www.foreverblog.cn/">十年之约</a><a class="footer-item" title="开往" target="_blank" rel="noopener" href="https://github.com/travellings-link/travellings">开往</a></div></div><div class="footer-group"><div class="footer-title">主题</div><div class="footer-links"><a class="footer-item" title="文档" href="/docs/">文档</a><a class="footer-item" title="源码" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">源码</a><a class="footer-item" title="更新日志" href="/update/">更新日志</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="REAI" target="_blank">REAI</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" title="京ICP备2023019859号-1">京ICP备2023019859号-1</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">71</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">64</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">29</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://music.reaicc.com/" title="网易云音乐"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/wangyiyun.png" alt="网易云音乐"/><span class="back-menu-item-text">网易云音乐</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://news.reaicc.com/" title="每日早报"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://news.reaicc.com/favicon.svg" alt="每日早报"/><span class="back-menu-item-text">每日早报</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/friends/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/?id=6709358233&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/notice/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 时间轴</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Ant/" style="font-size: 0.88rem;">Ant<sup>1</sup></a><a href="/tags/Cookie/" style="font-size: 0.88rem;">Cookie<sup>2</sup></a><a href="/tags/Dozer/" style="font-size: 0.88rem;">Dozer<sup>1</sup></a><a href="/tags/Filter/" style="font-size: 0.88rem;">Filter<sup>1</sup></a><a href="/tags/Freemark/" style="font-size: 0.88rem;">Freemark<sup>1</sup></a><a href="/tags/Freenom/" style="font-size: 0.88rem;">Freenom<sup>1</sup></a><a href="/tags/HTTPS/" style="font-size: 0.88rem;">HTTPS<sup>1</sup></a><a href="/tags/Html/" style="font-size: 0.88rem;">Html<sup>1</sup></a><a href="/tags/JSP/" style="font-size: 0.88rem;">JSP<sup>1</sup></a><a href="/tags/Java/" style="font-size: 0.88rem;">Java<sup>39</sup></a><a href="/tags/JavaBean/" style="font-size: 0.88rem;">JavaBean<sup>2</sup></a><a href="/tags/JavaWeb/" style="font-size: 0.88rem;">JavaWeb<sup>11</sup></a><a href="/tags/Jetty/" style="font-size: 0.88rem;">Jetty<sup>2</sup></a><a href="/tags/Jsoup/" style="font-size: 0.88rem;">Jsoup<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>8</sup></a><a href="/tags/Listener/" style="font-size: 0.88rem;">Listener<sup>1</sup></a><a href="/tags/Lombok/" style="font-size: 0.88rem;">Lombok<sup>1</sup></a><a href="/tags/Maven/" style="font-size: 0.88rem;">Maven<sup>6</sup></a><a href="/tags/Mybatis-Plus/" style="font-size: 0.88rem;">Mybatis Plus<sup>1</sup></a><a href="/tags/Reflections/" style="font-size: 0.88rem;">Reflections<sup>1</sup></a><a href="/tags/Servlet/" style="font-size: 0.88rem;">Servlet<sup>2</sup></a><a href="/tags/Session/" style="font-size: 0.88rem;">Session<sup>1</sup></a><a href="/tags/Thumbnailator/" style="font-size: 0.88rem;">Thumbnailator<sup>1</sup></a><a href="/tags/Thymeleaf/" style="font-size: 0.88rem;">Thymeleaf<sup>1</sup></a><a href="/tags/Tomcat/" style="font-size: 0.88rem;">Tomcat<sup>6</sup></a><a href="/tags/Velocity/" style="font-size: 0.88rem;">Velocity<sup>1</sup></a><a href="/tags/ZXing/" style="font-size: 0.88rem;">ZXing<sup>1</sup></a><a href="/tags/css/" style="font-size: 0.88rem;">css<sup>1</sup></a><a href="/tags/flex/" style="font-size: 0.88rem;">flex<sup>1</sup></a><a href="/tags/git/" style="font-size: 0.88rem;">git<sup>1</sup></a><a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 0.88rem;">反射<sup>1</sup></a><a href="/tags/%E5%9B%BE%E5%BD%A2%E5%A4%84%E7%90%86/" style="font-size: 0.88rem;">图形处理<sup>1</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7%E5%8C%85/" style="font-size: 0.88rem;">工具包<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 0.88rem;">教程<sup>8</sup></a><a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 0.88rem;">日志<sup>1</sup></a><a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 0.88rem;">服务器<sup>6</sup></a><a href="/tags/%E6%9D%A1%E5%BD%A2%E7%A0%81/" style="font-size: 0.88rem;">条形码<sup>1</sup></a><a href="/tags/%E6%9E%84%E5%BB%BA/" style="font-size: 0.88rem;">构建<sup>7</sup></a><a href="/tags/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/" style="font-size: 0.88rem;">模板引擎<sup>3</sup></a><a href="/tags/%E9%82%AE%E4%BB%B6/" style="font-size: 0.88rem;">邮件<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="6709358233" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="none"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=6709358233&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="https://npm.onmicrosoft.cn/hexo-tool-cc@1.1.4/source/js/utils.js"></script><script src="https://npm.onmicrosoft.cn/hexo-tool-cc@1.1.4/source/js/main.js"></script><script src="https://npm.onmicrosoft.cn/hexo-theme-anzhiyu@1.6.8/source/js/tw_cn.js"></script><script src="https://npm.onmicrosoft.cn/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://npm.onmicrosoft.cn/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://npm.onmicrosoft.cn/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://npm.onmicrosoft.cn/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>(() => {
  const initArtalk = () => {
    window.artalkItem = new Artalk(Object.assign({
      el: '#artalk-wrap',
      server: 'https://artalk.reaicc.com',
      site: 'blog.reaicc.com',
      pageKey: location.pathname,
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      countEl: '.artalk-count',
      emoticons: [
        "https://artalk.reaicc.com/static/images/artalk.json",
        "https://emotion-new.acs.pw/aru/artalk.json"
      ]
    },null))

    if (GLOBAL_CONFIG.lightbox === 'null') return
    window.artalkItem.use(ctx => {
      ctx.on('list-loaded', () => {
        ctx.getCommentList().forEach(comment => {
          const $content = comment.getRender().$content
          anzhiyu.loadLightbox($content.querySelectorAll('img:not([atk-emoticon])'))
        })
      })
    })
  }

  const loadArtalk = async () => {
    if (typeof window.artalkItem === 'object') initArtalk()
    else {
      await getCSS('https://npm.onmicrosoft.cn/artalk@2.5.5/dist/Artalk.css')
      await getScript('https://npm.onmicrosoft.cn/artalk@2.5.5/dist/Artalk.js')
      initArtalk()
    }
  }

  const artalkChangeMode = theme => {
    const artalkWrap = document.getElementById('artalk-wrap')
    if (!(artalkWrap && artalkWrap.children.length)) return
    const isDark = theme === 'dark'
    window.artalkItem.setDarkMode(isDark)
  }


  anzhiyu.addGlobalFn('themeChange', artalkChangeMode, 'artalk')
  
  if ('Artalk' === 'Artalk' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
    else loadArtalk()
  } else {
    window.loadOtherComment = loadArtalk
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getSetting = async () => {
    try {
      const res = await fetch('https://artalk.reaicc.com/api/conf', { method: 'GET' })
      return await res.json()
    } catch (e) {
      console.log(e)
    }
  }

  const headerList = {
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
      'Origin': window.location.origin
    },
    body: new URLSearchParams({
      'site_name': 'blog.reaicc.com',
      'limit': '6',
      'type':'latest_comments'
    })
  }

  const getComment = async () => {
    try {
      const res = await fetch('https://artalk.reaicc.com/api/stat', headerList)
      const result = await res.json()
      const avatarStr = await getSetting()
      const { mirror, params, default:defaults } = avatarStr.data.frontend_conf.gravatar
      const avatarCdn = false || mirror
      let avatarDefault = false || params || defaults
      avatarDefault = avatarDefault.startsWith('d=') ? avatarDefault : `d=${avatarDefault}`
      const artalk = result.data.map(function (e) {
        return {
          'avatar': `${avatarCdn}${e.email_encrypted}?${avatarDefault}`,
          'content': changeContent(e.content_marked),
          'nick': e.nick,
          'url': e.page_url,
          'date': e.date,
        }
      })
      saveToLocal.set('artalk-newest-comments', JSON.stringify(artalk), 10/(60*24))
      generateHtml(artalk)
    } catch (e) {
      console.log(e)
      const $dom = document.querySelector('#card-newest-comments .aside-list')
      $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
    }
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('artalk-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://npm.onmicrosoft.cn/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://npm.onmicrosoft.cn/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="/js/fjGallery.min.js"></script><script>!function(p){"use strict";!function(t){var s=window,e=document,i=p,c="".concat("https:"===e.location.protocol?"https://":"http://","sdk.51.la/js-sdk-pro.min.js"),n=e.createElement("script"),r=e.getElementsByTagName("script")[0];n.type="text/javascript",n.setAttribute("charset","UTF-8"),n.async=!0,n.src=c,n.id="LA_COLLECT",i.d=n;var o=function(){s.LA.ids.push(i)};s.LA?s.LA.ids&&o():(s.LA=p,s.LA.ids=[],o()),r.parentNode.insertBefore(n,r)}()}({id:"JrxUXpJaHkoUhitk",ck:"JrxUXpJaHkoUhitk"});</script><script src="https://unpkg.com/artalk@2.4.4/dist/Artalk.js"></script><script src="/js/bgCh.js"></script><script src="/shuoshuo/coco-message.js"></script><link rel="stylesheet" href="https://npm.onmicrosoft.cn/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://npm.onmicrosoft.cn/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://npm.onmicrosoft.cn/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://npm.onmicrosoft.cn/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/link/"]):not([href="/friends/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://npm.onmicrosoft.cn/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>